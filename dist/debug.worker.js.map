{"version":3,"file":"debug.worker.js","sources":["../output/worker-thread/NodeMapping.js","../output/utils.js","../output/worker-thread/MutationObserver.js","../output/worker-thread/StringMapping.js","../output/worker-thread/dom/Node.js","../output/worker-thread/dom/DOMTokenList.js","../output/worker-thread/dom/Attr.js","../output/worker-thread/dom/CharacterData.js","../output/worker-thread/dom/Text.js","../output/worker-thread/css/CSSStyleDeclaration.js","../output/worker-thread/dom/matchElements.js","../output/worker-thread/dom/enhanceElement.js","../output/worker-thread/dom/Element.js","../output/worker-thread/dom/HTMLElement.js","../output/worker-thread/dom/HTMLAnchorElement.js","../output/worker-thread/dom/HTMLButtonElement.js","../output/worker-thread/dom/HTMLDataElement.js","../output/worker-thread/dom/HTMLEmbedElement.js","../output/worker-thread/dom/HTMLFormControlsMixin.js","../output/worker-thread/dom/HTMLFieldSetElement.js","../output/worker-thread/dom/HTMLFormElement.js","../output/worker-thread/dom/HTMLIFrameElement.js","../output/worker-thread/dom/HTMLImageElement.js","../output/worker-thread/dom/HTMLInputLabelsMixin.js","../output/worker-thread/dom/HTMLInputElement.js","../output/worker-thread/dom/HTMLLabelElement.js","../output/worker-thread/dom/HTMLLinkElement.js","../output/worker-thread/dom/HTMLMapElement.js","../output/worker-thread/dom/HTMLMeterElement.js","../output/worker-thread/dom/HTMLModElement.js","../output/worker-thread/dom/HTMLOListElement.js","../output/worker-thread/dom/HTMLOptionElement.js","../output/worker-thread/dom/HTMLProgressElement.js","../output/worker-thread/dom/HTMLQuoteElement.js","../output/worker-thread/dom/HTMLScriptElement.js","../output/worker-thread/dom/HTMLSelectElement.js","../output/worker-thread/dom/HTMLSourceElement.js","../output/worker-thread/dom/HTMLStyleElement.js","../output/worker-thread/dom/HTMLTableCellElement.js","../output/worker-thread/dom/HTMLTableColElement.js","../output/worker-thread/dom/HTMLTableElement.js","../output/worker-thread/dom/HTMLTableRowElement.js","../output/worker-thread/dom/HTMLTableSectionElement.js","../output/worker-thread/dom/HTMLTimeElement.js","../output/worker-thread/dom/SVGElement.js","../output/worker-thread/Event.js","../output/transfer/DocumentMutations.js","../output/transfer/TransferrableEvent.js","../output/transfer/TransferrableSyncValue.js","../output/worker-thread/dom/Document.js","../output/worker-thread/index.js"],"sourcesContent":["/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nlet count = 0;\nlet transfer = [];\nconst mapping = new Map();\n/**\n * Stores a node in mapping, and makes the index available on the Node directly.\n * @param node Node to store and modify with index\n * @return index Node was stored with in mapping\n */\nexport function store(node) {\n    if (node._index_ !== undefined) {\n        return node._index_;\n    }\n    mapping.set((node._index_ = ++count), node);\n    transfer.push(node);\n    return count;\n}\n/**\n * Retrieves a node based on an index.\n * @param index location in map to retrieve a Node for\n * @return either the Node represented in index position, or null if not available.\n */\nexport function get(index) {\n    // mapping has a 1 based index, since on first store we ++count before storing.\n    return (!!index && mapping.get(index)) || null;\n}\n/**\n * Returns nodes registered but not yet transferred.\n * Side effect: Resets the transfer array to default value, to prevent passing the same values multiple times.\n */\nexport function consume() {\n    const copy = transfer;\n    transfer = [];\n    return copy;\n}\n//# sourceMappingURL=NodeMapping.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport const toLower = (string) => string.toLowerCase();\nexport const keyValueString = (key, value) => `${key}=\"${value}\"`;\n//# sourceMappingURL=utils.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst observers = [];\nlet pendingMutations = false;\nconst match = (observerTarget, target) => observerTarget !== null && target._index_ === observerTarget._index_;\nconst pushMutation = (observer, record) => {\n    observer.pushRecord(record);\n    if (!pendingMutations) {\n        pendingMutations = true;\n        Promise.resolve().then(() => {\n            pendingMutations = false;\n            observers.forEach(observer => observer.callback(observer.takeRecords()));\n        });\n    }\n};\n/**\n * When DOM mutations occur, Nodes will call this method with MutationRecords\n * These records are then pushed into MutationObserver instances that match the MutationRecord.target\n * @param record MutationRecord to push into MutationObservers.\n */\nexport function mutate(record) {\n    observers.forEach(observer => {\n        if (!observer.options.subtreeFlattened || record.type === 4 /* COMMAND */) {\n            pushMutation(observer, record);\n            return;\n        }\n        let target = record.target;\n        let matched = match(observer.target, target);\n        if (!matched) {\n            do {\n                if ((matched = match(observer.target, target))) {\n                    pushMutation(observer, record);\n                    break;\n                }\n            } while ((target = target.parentNode));\n        }\n    });\n}\nexport class MutationObserver {\n    constructor(callback) {\n        this._records_ = [];\n        this.callback = callback;\n    }\n    /**\n     * Register the MutationObserver instance to observe a Nodes mutations.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver\n     * @param target Node to observe DOM mutations\n     */\n    observe(target, options) {\n        this.disconnect();\n        this.target = target;\n        this.options = Object.assign({ subtreeFlattened: false }, options);\n        observers.push(this);\n    }\n    /**\n     * Stop the MutationObserver instance from observing a Nodes mutations.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver\n     */\n    disconnect() {\n        this.target = null;\n        const index = observers.indexOf(this);\n        if (index >= 0) {\n            observers.splice(index, 1);\n        }\n    }\n    /**\n     * Empties the MutationObserver instance's record queue and returns what was in there.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver\n     * @return Mutation Records stored on this MutationObserver instance.\n     */\n    takeRecords() {\n        return this._records_.splice(0, this._records_.length);\n    }\n    /**\n     * NOTE: This method doesn't exist on native MutationObserver.\n     * @param record MutationRecord to store for this instance.\n     */\n    pushRecord(record) {\n        this._records_.push(record);\n    }\n}\n//# sourceMappingURL=MutationObserver.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nlet count = 0;\nlet transfer = [];\nconst mapping = new Map();\n/**\n * Stores a string in mapping and returns the index of the location.\n * @param value string to store\n * @return location in map\n */\nexport function store(value) {\n    if (mapping.has(value)) {\n        // Safe to cast since we verified the mapping contains the value\n        return mapping.get(value);\n    }\n    mapping.set(value, ++count);\n    transfer.push(value);\n    return count;\n}\n/**\n * Retrieve the index for a string (mostly used for tests).\n * @param value string value we need to know the index of\n * @returns index in the map for the string\n */\nexport function get(value) {\n    return mapping.get(value);\n}\n/**\n * Returns strings registered but not yet transferred.\n * Side effect: Resets the transfer array to default value, to prevent passing the same values multiple times.\n */\nexport function consume() {\n    const strings = transfer;\n    transfer = [];\n    return strings;\n}\n//# sourceMappingURL=StringMapping.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { store as storeNodeMapping } from '../NodeMapping';\nimport { toLower } from '../../utils';\nimport { mutate } from '../MutationObserver';\nimport { store as storeString } from '../StringMapping';\nexport let globalDocument = null;\n/**\n * Propagates a property change for a Node to itself and all childNodes.\n * @param node Node to start applying change to\n * @param property Property to modify\n * @param value New value to apply\n */\nconst propagate = (node, property, value) => {\n    node[property] = value;\n    node.childNodes.forEach(child => propagate(child, property, value));\n};\n// https://developer.mozilla.org/en-US/docs/Web/API/Node\n// https://developer.mozilla.org/en-US/docs/Web/API/EventTarget\n//\n// Please note, in this implmentation Node doesn't extend EventTarget.\n// This is intentional to reduce the number of classes.\nexport class Node {\n    constructor(nodeType, nodeName) {\n        this.childNodes = [];\n        this.parentNode = null;\n        this.isConnected = false;\n        this._handlers_ = {};\n        this.nodeType = nodeType;\n        this.nodeName = nodeName;\n        // The first Node created is the global document.\n        if (globalDocument === null) {\n            globalDocument = this;\n        }\n        this.ownerDocument = globalDocument;\n        this._index_ = storeNodeMapping(this);\n    }\n    // Unimplemented Properties\n    // Node.baseURI – https://developer.mozilla.org/en-US/docs/Web/API/Node/baseURI\n    // Unimplemented Methods\n    // Node.compareDocumentPosition() – https://developer.mozilla.org/en-US/docs/Web/API/Node/compareDocumentPosition\n    // Node.getRootNode() – https://developer.mozilla.org/en-US/docs/Web/API/Node/getRootNode\n    // Node.isDefaultNamespace() – https://developer.mozilla.org/en-US/docs/Web/API/Node/isDefaultNamespace\n    // Node.isEqualNode() – https://developer.mozilla.org/en-US/docs/Web/API/Node/isEqualNode\n    // Node.isSameNode() – https://developer.mozilla.org/en-US/docs/Web/API/Node/isSameNode\n    // Node.lookupPrefix() – https://developer.mozilla.org/en-US/docs/Web/API/Node/lookupPrefix\n    // Node.lookupNamespaceURI() – https://developer.mozilla.org/en-US/docs/Web/API/Node/lookupNamespaceURI\n    // Node.normalize() – https://developer.mozilla.org/en-US/docs/Web/API/Node/normalize\n    // Implemented at Element/Text layer\n    // Node.nodeValue – https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeValue\n    // Node.cloneNode – https://developer.mozilla.org/en-US/docs/Web/API/Node/cloneNode\n    /**\n     * Getter returning the text representation of Element.childNodes.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Node/textContent\n     * @return text from all childNodes.\n     */\n    get textContent() {\n        let textContent = '';\n        const childNodes = this.childNodes;\n        if (childNodes.length) {\n            childNodes.forEach(childNode => (textContent += childNode.textContent));\n            return textContent;\n        }\n        return '';\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Node/firstChild\n     * @return Node's first child in the tree, or null if the node has no children.\n     */\n    get firstChild() {\n        return this.childNodes.length > 0 ? this.childNodes[0] : null;\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Node/lastChild\n     * @return The last child of a node, or null if there are no child elements.\n     */\n    get lastChild() {\n        return this.childNodes.length > 0 ? this.childNodes[this.childNodes.length - 1] : null;\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Node/nextSibling\n     * @return node immediately following the specified one in it's parent's childNodes, or null if one doesn't exist.\n     */\n    get nextSibling() {\n        if (this.parentNode === null) {\n            return null;\n        }\n        const parentChildNodes = this.parentNode.childNodes;\n        return parentChildNodes[parentChildNodes.indexOf(this) + 1] || null;\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Node/previousSibling\n     * @return node immediately preceding the specified one in its parent's childNodes, or null if the specified node is the first in that list.\n     */\n    get previousSibling() {\n        if (this.parentNode === null) {\n            return null;\n        }\n        const parentChildNodes = this.parentNode.childNodes;\n        return parentChildNodes[parentChildNodes.indexOf(this) - 1] || null;\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Node/hasChildNodes\n     * @return boolean if the Node has childNodes.\n     */\n    hasChildNodes() {\n        return this.childNodes.length > 0;\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Node/contains\n     * @param otherNode\n     * @return whether a Node is a descendant of a given Node\n     */\n    contains(otherNode) {\n        if (this.childNodes.length > 0) {\n            if (this.childNodes.includes(this)) {\n                return true;\n            }\n            return this.childNodes.some(child => child.contains(otherNode));\n        }\n        return otherNode === this;\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Node/insertBefore\n     * @param child\n     * @param referenceNode\n     * @return child after it has been inserted.\n     */\n    insertBefore(child, referenceNode) {\n        if (child === null) {\n            return null;\n        }\n        if (child === this) {\n            // The new child cannot contain the parent.\n            return child;\n        }\n        if (referenceNode == null) {\n            // When a referenceNode is not valid, appendChild(child).\n            this.appendChild(child);\n            mutate({\n                addedNodes: [child],\n                type: 2 /* CHILD_LIST */,\n                target: this,\n            });\n            return child;\n        }\n        if (this.childNodes.indexOf(referenceNode) >= 0) {\n            // Should only insertBefore direct children of this Node.\n            child.remove();\n            // Removing a child can cause this.childNodes to change, meaning we need to splice from its updated location.\n            this.childNodes.splice(this.childNodes.indexOf(referenceNode), 0, child);\n            child.parentNode = this;\n            propagate(child, 'isConnected', this.isConnected);\n            mutate({\n                addedNodes: [child],\n                nextSibling: referenceNode,\n                type: 2 /* CHILD_LIST */,\n                target: this,\n            });\n            return child;\n        }\n        return null;\n    }\n    /**\n     * Adds the specified childNode argument as the last child to the current node.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Node/appendChild\n     * @param child Child Node to append to this Node.\n     */\n    appendChild(child) {\n        child.remove();\n        child.parentNode = this;\n        propagate(child, 'isConnected', this.isConnected);\n        this.childNodes.push(child);\n        mutate({\n            addedNodes: [child],\n            previousSibling: this.childNodes[this.childNodes.length - 2],\n            type: 2 /* CHILD_LIST */,\n            target: this,\n        });\n    }\n    /**\n     * Removes a child node from the current element.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Node/removeChild\n     * @param child Child Node to remove from this Node.\n     * @return Node removed from the tree or null if the node wasn't attached to this tree.\n     */\n    removeChild(child) {\n        const index = this.childNodes.indexOf(child);\n        const exists = index >= 0;\n        if (exists) {\n            child.parentNode = null;\n            propagate(child, 'isConnected', false);\n            this.childNodes.splice(index, 1);\n            mutate({\n                removedNodes: [child],\n                type: 2 /* CHILD_LIST */,\n                target: this,\n            });\n            return child;\n        }\n        return null;\n    }\n    // TODO(KB): Verify behaviour.\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Node/replaceChild\n     * @param newChild new Node to replace old Node.\n     * @param oldChild existing Node to be replaced.\n     * @return child that was replaced.\n     */\n    replaceChild(newChild, oldChild) {\n        if (newChild !== oldChild) {\n            const index = this.childNodes.indexOf(oldChild);\n            if (index >= 0) {\n                oldChild.parentNode = null;\n                propagate(oldChild, 'isConnected', false);\n                this.childNodes.splice(index, 1, newChild);\n                mutate({\n                    addedNodes: [newChild],\n                    removedNodes: [oldChild],\n                    type: 2 /* CHILD_LIST */,\n                    target: this,\n                });\n            }\n        }\n        return oldChild;\n    }\n    /**\n     * Removes this Node from the tree it belogs too.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/ChildNode/remove\n     */\n    remove() {\n        this.parentNode && this.parentNode.removeChild(this);\n    }\n    /**\n     * Add an event listener to callback when a specific event type is dispatched.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener\n     * @param type Event Type (i.e 'click')\n     * @param handler Function called when event is dispatched.\n     */\n    addEventListener(type, handler) {\n        const handlers = this._handlers_[toLower(type)];\n        let index = 0;\n        if (handlers && handlers.length > 0) {\n            index = handlers.push(handler);\n        }\n        else {\n            this._handlers_[toLower(type)] = [handler];\n        }\n        mutate({\n            target: this,\n            type: 4 /* COMMAND */,\n            addedEvents: [\n                {\n                    [9 /* type */]: storeString(type),\n                    [7 /* _index_ */]: this._index_,\n                    [33 /* index */]: index,\n                },\n            ],\n        });\n    }\n    /**\n     * Remove a registered event listener for a specific event type.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/removeEventListener\n     * @param type Event Type (i.e 'click')\n     * @param handler Function to stop calling when event is dispatched.\n     */\n    removeEventListener(type, handler) {\n        const handlers = this._handlers_[toLower(type)];\n        const index = !!handlers ? handlers.indexOf(handler) : -1;\n        if (index >= 0) {\n            handlers.splice(index, 1);\n            mutate({\n                target: this,\n                type: 4 /* COMMAND */,\n                removedEvents: [\n                    {\n                        [9 /* type */]: storeString(type),\n                        [7 /* _index_ */]: this._index_,\n                        [33 /* index */]: index,\n                    },\n                ],\n            });\n        }\n    }\n    /**\n     * Dispatch an event for this Node.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/dispatchEvent\n     * @param event Event to dispatch to this node and potentially cascade to parents.\n     */\n    dispatchEvent(event) {\n        let target = (event.currentTarget = this);\n        let handlers;\n        let iterator;\n        do {\n            handlers = target && target._handlers_ && target._handlers_[toLower(event.type)];\n            if (handlers) {\n                for (iterator = handlers.length; iterator--;) {\n                    if ((handlers[iterator].call(target, event) === false || event._end) && event.cancelable) {\n                        break;\n                    }\n                }\n            }\n        } while (event.bubbles && !(event.cancelable && event._stop) && (target = target && target.parentNode));\n        return !event.defaultPrevented;\n    }\n}\n//# sourceMappingURL=Node.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { mutate } from '../MutationObserver';\nexport class DOMTokenList {\n    /**\n     * The DOMTokenList interface represents a set of space-separated tokens.\n     * It is indexed beginning with 0 as with JavaScript Array objects and is case-sensitive.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMTokenList\n     * @param defineOn Element or class extension to define getter/setter pair for token list access.\n     * @param element Specific Element instance to modify when value is changed.\n     * @param attributeName Name of the attribute used by Element to access DOMTokenList.\n     * @param accessorKey Key used to access DOMTokenList directly from specific element.\n     * @param propertyName Key used to access DOMTokenList as string getter/setter.\n     */\n    constructor(defineOn, element, attributeName, accessorKey, propertyName) {\n        this.array_ = [];\n        this.element_ = element;\n        this.attributeName_ = attributeName;\n        this.storeAttributeMethod_ = element.storeAttributeNS_.bind(element);\n        element.propertyBackedAttributes_[attributeName] = [() => this.value, (value) => (this.value = value)];\n        if (accessorKey && propertyName) {\n            Object.defineProperty(defineOn.prototype, propertyName, {\n                enumerable: true,\n                configurable: true,\n                get() {\n                    return this[accessorKey].value;\n                },\n                set(value) {\n                    this[accessorKey].value = value;\n                },\n            });\n        }\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMTokenList/value\n     * @return string representation of tokens (space delimitted).\n     */\n    get value() {\n        return this.array_.join(' ');\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMTokenList/length\n     * @return integer representing the number of objects stored in the object.\n     */\n    get length() {\n        return this.array_.length;\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMTokenList/value\n     * @param collection String of values space delimited to replace the current DOMTokenList with.\n     */\n    set value(collection) {\n        const oldValue = this.value;\n        const newValue = collection.trim();\n        // Replace current tokens with new tokens.\n        this.array_.splice(0, this.array_.length, ...(newValue !== '' ? newValue.split(/\\s+/) : ''));\n        this.mutationCompleteHandler_(oldValue, newValue);\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMTokenList/item\n     * @param index number from DOMTokenList entities to retrieve value of\n     * @return value stored at the index requested, or undefined if beyond known range.\n     */\n    item(index) {\n        return this.array_[index];\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMTokenList/contains\n     * @param token value the DOMTokenList is tested for.\n     * @return boolean indicating if the token is contained by the DOMTokenList.\n     */\n    contains(token) {\n        return this.array_.includes(token);\n    }\n    /**\n     * Add a token or tokens to the list.\n     * Note: All duplicates are removed, and the first token's position with the value is preserved.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMTokenList/add\n     * @param tokens each token is a string to add to a TokenList.\n     */\n    add(...tokens) {\n        const oldValue = this.value;\n        this.array_.splice(0, this.array_.length, ...new Set(this.array_.concat(tokens)));\n        this.mutationCompleteHandler_(oldValue, this.value);\n    }\n    /**\n     * Remove a token or tokens from the list.\n     * Note: All duplicates are removed, and the first token's position with the value is preserved.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMTokenList/remove\n     * @param tokens each token is a string to remove from a TokenList.\n     */\n    remove(...tokens) {\n        const oldValue = this.value;\n        this.array_.splice(0, this.array_.length, ...new Set(this.array_.filter(token => !tokens.includes(token))));\n        this.mutationCompleteHandler_(oldValue, this.value);\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMTokenList/replace\n     * @param token\n     * @param newToken\n     */\n    replace(token, newToken) {\n        if (!this.array_.includes(token)) {\n            return;\n        }\n        const oldValue = this.value;\n        const set = new Set(this.array_);\n        if (token !== newToken) {\n            set.delete(token);\n            if (newToken !== '') {\n                set.add(newToken);\n            }\n        }\n        this.array_.splice(0, this.array_.length, ...set);\n        this.mutationCompleteHandler_(oldValue, this.value);\n    }\n    /**\n     * Adds or removes a token based on its presence in the token list.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMTokenList/toggle\n     * @param token string to add or remove from the token list\n     * @param force changes toggle into a one way-only operation. true => token added. false => token removed.\n     * @return true if the token is in the list following mutation, false if not.\n     */\n    toggle(token, force) {\n        if (!this.array_.includes(token)) {\n            if (force !== false) {\n                // Note, this will add the token if force is undefined (not passed into the method), or true.\n                this.add(token);\n            }\n            return true;\n        }\n        else if (force !== true) {\n            // Note, this will remove the token if force is undefined (not passed into the method), or false.\n            this.remove(token);\n            return false;\n        }\n        return true;\n    }\n    /**\n     * Report tokenList mutations to MutationObserver.\n     * @param oldValue value before mutation\n     * @param value value after mutation\n     * @private\n     */\n    mutationCompleteHandler_(oldValue, value) {\n        this.storeAttributeMethod_(null, this.attributeName_, value);\n        mutate({\n            type: 0 /* ATTRIBUTES */,\n            target: this.element_,\n            attributeName: this.attributeName_,\n            value,\n            oldValue,\n        });\n    }\n}\n//# sourceMappingURL=DOMTokenList.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { keyValueString } from '../../utils';\nexport const toString = (attributes) => attributes.map(({ name, value }) => keyValueString(name, value)).join(' ');\nexport const matchPredicate = (namespaceURI, name) => attr => attr.namespaceURI === namespaceURI && attr.name === name;\n//# sourceMappingURL=Attr.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Node } from './Node';\nimport { mutate } from '../MutationObserver';\n// @see https://developer.mozilla.org/en-US/docs/Web/API/CharacterData\nexport class CharacterData extends Node {\n    constructor(data, nodeType, nodeName) {\n        super(nodeType, nodeName);\n        this._data_ = data;\n    }\n    // Unimplemented Methods\n    // NonDocumentTypeChildNode.nextElementSibling – https://developer.mozilla.org/en-US/docs/Web/API/NonDocumentTypeChildNode/nextElementSibling\n    // NonDocumentTypeChildNode.previousElementSibling – https://developer.mozilla.org/en-US/docs/Web/API/NonDocumentTypeChildNode/previousElementSibling\n    // CharacterData.appendData() – https://developer.mozilla.org/en-US/docs/Web/API/NonDocumentTypeChildNode/appendData\n    // CharacterData.deleteData() – https://developer.mozilla.org/en-US/docs/Web/API/NonDocumentTypeChildNode/deleteData\n    // CharacterData.insertData() – https://developer.mozilla.org/en-US/docs/Web/API/NonDocumentTypeChildNode/insertData\n    // CharacterData.replaceData() – https://developer.mozilla.org/en-US/docs/Web/API/NonDocumentTypeChildNode/replaceData\n    // CharacterData.substringData() – https://developer.mozilla.org/en-US/docs/Web/API/NonDocumentTypeChildNode/substringData\n    /**\n     * @return Returns the string contained in private CharacterData.data\n     */\n    get data() {\n        return this._data_;\n    }\n    /**\n     * @param value string value to store as CharacterData.data.\n     */\n    set data(value) {\n        const oldValue = this.data;\n        this._data_ = value;\n        mutate({\n            target: this,\n            type: 1 /* CHARACTER_DATA */,\n            value,\n            oldValue,\n        });\n    }\n    /**\n     * @return Returns the size of the string contained in CharacterData.data\n     */\n    get length() {\n        return this._data_.length;\n    }\n    /**\n     * @return Returns the string contained in CharacterData.data\n     */\n    get nodeValue() {\n        return this._data_;\n    }\n    /**\n     * @param value string value to store as CharacterData.data.\n     */\n    set nodeValue(value) {\n        this.data = value;\n    }\n}\n//# sourceMappingURL=CharacterData.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { CharacterData } from './CharacterData';\nimport { store as storeString } from '../StringMapping';\n// @see https://developer.mozilla.org/en-US/docs/Web/API/Text\nexport class Text extends CharacterData {\n    constructor(data) {\n        super(data, 3 /* TEXT_NODE */, '#text');\n        this._transferredFormat_ = {\n            [7 /* _index_ */]: this._index_,\n            [8 /* transferred */]: 1 /* TRUE */,\n        };\n        this._creationFormat_ = {\n            [7 /* _index_ */]: this._index_,\n            [8 /* transferred */]: 0 /* FALSE */,\n            [0 /* nodeType */]: 3 /* TEXT_NODE */,\n            [1 /* nodeName */]: storeString('#text'),\n            [5 /* textContent */]: storeString(this.data),\n        };\n    }\n    // Unimplemented Properties\n    // Text.isElementContentWhitespace – https://developer.mozilla.org/en-US/docs/Web/API/Text/isElementContentWhitespace\n    // Text.wholeText – https://developer.mozilla.org/en-US/docs/Web/API/Text/wholeText\n    // Text.assignedSlot – https://developer.mozilla.org/en-US/docs/Web/API/Text/assignedSlot\n    hydrate() {\n        return this._creationFormat_;\n    }\n    /**\n     * textContent getter, retrieves underlying CharacterData data.\n     * This is a different implmentation than DOMv1-4 APIs, but should be transparent to Frameworks.\n     */\n    get textContent() {\n        return this.data;\n    }\n    /**\n     * textContent setter, mutates underlying CharacterData data.\n     * This is a different implmentation than DOMv1-4 APIs, but should be transparent to Frameworks.\n     * @param value new value\n     */\n    set textContent(value) {\n        // Mutation Observation is performed by CharacterData.\n        this.nodeValue = value;\n    }\n    /**\n     * Breaks Text node into two nodes at the specified offset, keeping both nodes in the tree as siblings.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Text/splitText\n     * @param offset number position to split text at.\n     * @return Text Node after the offset.\n     */\n    splitText(offset) {\n        const remainderTextNode = new Text(this.data.slice(offset, this.data.length));\n        const parentNode = this.parentNode;\n        this.nodeValue = this.data.slice(0, offset);\n        if (parentNode !== null) {\n            // When this node is attached to the DOM, the remainder text needs to be inserted directly after.\n            const parentChildNodes = parentNode.childNodes;\n            const insertBeforePosition = parentChildNodes.indexOf(this) + 1;\n            const insertBeforeNode = parentChildNodes.length >= insertBeforePosition ? parentChildNodes[insertBeforePosition] : null;\n            return parentNode.insertBefore(remainderTextNode, insertBeforeNode);\n        }\n        return remainderTextNode;\n    }\n}\n//# sourceMappingURL=Text.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { mutate } from '../MutationObserver';\nimport { toLower } from '../../utils';\nconst hyphenateKey = (key) => toLower(key.replace(/(webkit|ms|moz|khtml)/g, '-$1').replace(/([a-zA-Z])(?=[A-Z])/g, '$1-'));\nexport const appendKeys = (keys) => {\n    const keysToAppend = keys.filter(key => !CSSStyleDeclaration.prototype.hasOwnProperty(key));\n    if (keysToAppend.length <= 0) {\n        return;\n    }\n    const previousPrototypeLength = (CSSStyleDeclaration.prototype.length || 0);\n    if (previousPrototypeLength !== 0) {\n        CSSStyleDeclaration.prototype.length = previousPrototypeLength + keysToAppend.length;\n    }\n    else {\n        Object.defineProperty(CSSStyleDeclaration.prototype, 'length', {\n            configurable: true,\n            writable: true,\n            value: keysToAppend.length,\n        });\n    }\n    keysToAppend.forEach((key, index) => {\n        const hyphenatedKey = hyphenateKey(key);\n        CSSStyleDeclaration.prototype[index + previousPrototypeLength] = hyphenatedKey;\n        Object.defineProperties(CSSStyleDeclaration.prototype, {\n            [key]: {\n                get() {\n                    return this.getPropertyValue(hyphenatedKey);\n                },\n                set(value) {\n                    this.setProperty(hyphenatedKey, value);\n                },\n            },\n        });\n    });\n};\nexport class CSSStyleDeclaration {\n    constructor(element) {\n        this.properties_ = {};\n        this.storeAttributeMethod_ = element.storeAttributeNS_.bind(element);\n        this.element_ = element;\n        if (element && element.propertyBackedAttributes_) {\n            element.propertyBackedAttributes_.style = [() => this.cssText, (value) => (this.cssText = value)];\n        }\n    }\n    /**\n     * Retrieve the value for a given property key.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration/getPropertyValue\n     * @param key the name of the property to retrieve the value for.\n     * @return value stored for the provided key.\n     */\n    getPropertyValue(key) {\n        return this.properties_[key] || '';\n    }\n    /**\n     * Remove a value for a given property key.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration/removeProperty\n     * @param key the name of the property to retrieve the value for.\n     * @return previously stored value for the provided key.\n     */\n    removeProperty(key) {\n        const oldValue = this.getPropertyValue(key);\n        this.properties_[key] = null;\n        this.mutationCompleteHandler_(this.cssText);\n        return oldValue;\n    }\n    /**\n     * Stores a given value for the provided key.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration/setProperty\n     * @param key modify this key\n     * @param value store this value\n     */\n    setProperty(key, value) {\n        this.properties_[key] = value;\n        this.mutationCompleteHandler_(this.cssText);\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration/cssText\n     * @return css text string representing known and valid style declarations.\n     */\n    get cssText() {\n        let value;\n        let returnValue = '';\n        for (let key in this.properties_) {\n            if ((value = this.getPropertyValue(key)) !== '') {\n                returnValue += `${key}: ${value}; `;\n            }\n        }\n        return returnValue.trim();\n    }\n    /**\n     * Replace all style declarations with new values parsed from a cssText string.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration/cssText\n     * @param value css text string to parse and store\n     */\n    set cssText(value) {\n        this.properties_ = {};\n        const values = value.split(/[:;]/);\n        const length = values.length;\n        for (let index = 0; index + 1 < length; index += 2) {\n            this.properties_[toLower(values[index].trim())] = values[index + 1].trim();\n        }\n        this.mutationCompleteHandler_(this.cssText);\n    }\n    /**\n     * Report CSSStyleDeclaration mutations to MutationObserver.\n     * @param value value after mutation\n     * @private\n     */\n    mutationCompleteHandler_(value) {\n        const oldValue = this.storeAttributeMethod_(null, 'style', value);\n        mutate({\n            type: 0 /* ATTRIBUTES */,\n            target: this.element_,\n            attributeName: 'style',\n            value,\n            oldValue,\n        });\n    }\n}\n//# sourceMappingURL=CSSStyleDeclaration.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// To future authors: It would be great if we could enforce that elements are not modified by a ConditionPredicate.\nexport const tagNameConditionPredicate = (tagNames) => (element) => tagNames.includes(element.tagName);\nexport const matchChildrenElements = (element, conditionPredicate) => {\n    const matchingElements = [];\n    element.children.forEach(child => {\n        if (conditionPredicate(child)) {\n            matchingElements.push(child);\n        }\n        matchingElements.push(...matchChildrenElements(child, conditionPredicate));\n    });\n    return matchingElements;\n};\nexport const matchChildElement = (element, conditionPredicate) => {\n    let returnValue = null;\n    element.children.some(child => {\n        if (conditionPredicate(child)) {\n            returnValue = child;\n            return true;\n        }\n        const grandChildMatch = matchChildElement(child, conditionPredicate);\n        if (grandChildMatch !== null) {\n            returnValue = grandChildMatch;\n            return true;\n        }\n        return false;\n    });\n    return returnValue;\n};\nexport const matchNearestParent = (element, conditionPredicate) => {\n    while ((element = element.parentNode)) {\n        if (conditionPredicate(element)) {\n            return element;\n        }\n    }\n    return null;\n};\n//# sourceMappingURL=matchElements.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { toLower } from '../../utils';\nexport const reflectProperties = (properties, defineOn) => {\n    properties.forEach(pair => {\n        for (let key in pair) {\n            const defaultValue = pair[key][0];\n            const propertyIsNumber = typeof defaultValue === 'number';\n            const propertyIsBoolean = typeof defaultValue === 'boolean';\n            const attributeKey = pair[key][1] || toLower(key);\n            Object.defineProperty(defineOn.prototype, key, {\n                enumerable: true,\n                get() {\n                    const storedAttribute = this.getAttribute(attributeKey);\n                    if (propertyIsBoolean) {\n                        return storedAttribute !== null ? storedAttribute === 'true' : defaultValue;\n                    }\n                    const castableValue = storedAttribute || defaultValue;\n                    return propertyIsNumber ? Number(castableValue) : String(castableValue);\n                },\n                set(value) {\n                    this.setAttribute(attributeKey, String(value));\n                },\n            });\n        }\n    });\n};\n//# sourceMappingURL=enhanceElement.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Node } from './Node';\nimport { DOMTokenList } from './DOMTokenList';\nimport { toString as attrsToString, matchPredicate as matchAttrPredicate } from './Attr';\nimport { mutate } from '../MutationObserver';\nimport { Text } from './Text';\nimport { CSSStyleDeclaration } from '../css/CSSStyleDeclaration';\nimport { matchChildrenElements } from './matchElements';\nimport { reflectProperties } from './enhanceElement';\nimport { store as storeString } from '../StringMapping';\nconst isElementPredicate = (node) => node.nodeType === 1 /* ELEMENT_NODE */;\nexport const NODE_NAME_MAPPING = {};\nexport function registerSubclass(nodeName, subclass) {\n    NODE_NAME_MAPPING[nodeName] = subclass;\n}\nexport class Element extends Node {\n    constructor(nodeType, nodeName, namespaceURI) {\n        super(nodeType, nodeName);\n        this.attributes = [];\n        this.propertyBackedAttributes_ = {};\n        this.classList = new DOMTokenList(Element, this, 'class', 'classList', 'className');\n        this.style = new CSSStyleDeclaration(this);\n        this.namespaceURI = namespaceURI;\n        this._transferredFormat_ = {\n            [7 /* _index_ */]: this._index_,\n            [8 /* transferred */]: 1 /* TRUE */,\n        };\n        this._creationFormat_ = {\n            [7 /* _index_ */]: this._index_,\n            [8 /* transferred */]: 0 /* FALSE */,\n            [0 /* nodeType */]: this.nodeType,\n            [1 /* nodeName */]: storeString(this.nodeName),\n            [6 /* namespaceURI */]: this.namespaceURI === null ? undefined : storeString(this.namespaceURI),\n        };\n    }\n    /**\n     * When hydrating the tree, we need to send HydrateableNode representations\n     * for the main thread to process and store items from for future modifications.\n     */\n    hydrate() {\n        return Object.assign({}, this._creationFormat_, this.childNodes.length > 0\n            ? {\n                [4 /* childNodes */]: this.childNodes.map(node => node.hydrate()),\n            }\n            : {}, this.attributes.length > 0\n            ? {\n                [2 /* attributes */]: this.attributes.map(attribute => [\n                    storeString(attribute.namespaceURI || 'null'),\n                    storeString(attribute.name),\n                    storeString(attribute.value),\n                ]),\n            }\n            : {});\n    }\n    // Unimplemented properties\n    // Element.clientHeight – https://developer.mozilla.org/en-US/docs/Web/API/Element/clientHeight\n    // Element.clientLeft – https://developer.mozilla.org/en-US/docs/Web/API/Element/clientLeft\n    // Element.clientTop – https://developer.mozilla.org/en-US/docs/Web/API/Element/clientTop\n    // Element.clientWidth – https://developer.mozilla.org/en-US/docs/Web/API/Element/clientWidth\n    // Element.querySelector – https://developer.mozilla.org/en-US/docs/Web/API/Element/querySelector\n    // Element.querySelectorAll – https://developer.mozilla.org/en-US/docs/Web/API/Element/querySelectorAll\n    // set Element.innerHTML – https://developer.mozilla.org/en-US/docs/Web/API/Element/innerHTML\n    // Element.localName – https://developer.mozilla.org/en-US/docs/Web/API/Element/localName\n    // NonDocumentTypeChildNode.nextElementSibling – https://developer.mozilla.org/en-US/docs/Web/API/NonDocumentTypeChildNode/nextElementSibling\n    // Element.prefix – https://developer.mozilla.org/en-US/docs/Web/API/Element/prefix\n    // NonDocummentTypeChildNode.previousElementSibling – https://developer.mozilla.org/en-US/docs/Web/API/NonDocumentTypeChildNode/previousElementSibling\n    // Element.scrollHeight – https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollHeight\n    // Element.scrollLeft – https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollLeft\n    // Element.scrollLeftMax – https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollLeftMax\n    // Element.scrollTop – https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollTop\n    // Element.scrollTopMax – https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollTopMax\n    // Element.scrollWidth – https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollWidth\n    // Element.shadowRoot – !! CustomElements – https://developer.mozilla.org/en-US/docs/Web/API/Element/shadowRoot\n    // Element.slot – !! CustomElements – https://developer.mozilla.org/en-US/docs/Web/API/Element/slot\n    // Element.tabStop – https://developer.mozilla.org/en-US/docs/Web/API/Element/tabStop\n    // Element.undoManager – https://developer.mozilla.org/en-US/docs/Web/API/Element/undoManager\n    // Element.undoScope – https://developer.mozilla.org/en-US/docs/Web/API/Element/undoScope\n    // Unimplemented Methods\n    // Element.attachShadow() – !! CustomElements – https://developer.mozilla.org/en-US/docs/Web/API/Element/attachShadow\n    // Element.animate() – https://developer.mozilla.org/en-US/docs/Web/API/Element/animate\n    // Element.closest() – https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n    // Element.getAttributeNames() – https://developer.mozilla.org/en-US/docs/Web/API/Element/getAttributeNames\n    // Element.getBoundingClientRect() – https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect\n    // Element.getClientRects() – https://developer.mozilla.org/en-US/docs/Web/API/Element/getClientRects\n    // Element.getElementsByTagNameNS() – https://developer.mozilla.org/en-US/docs/Web/API/Element/getElementsByTagNameNS\n    // Element.insertAdjacentElement() – https://developer.mozilla.org/en-US/docs/Web/API/Element/insertAdjacentElement\n    // Element.insertAdjacentHTML() – https://developer.mozilla.org/en-US/docs/Web/API/Element/insertAdjacentHTML\n    // Element.insertAdjacentText() – https://developer.mozilla.org/en-US/docs/Web/API/Element/insertAdjacentText\n    // Element.matches() – https://developer.mozilla.org/en-US/docs/Web/API/Element/matches\n    // Element.querySelector() – https://developer.mozilla.org/en-US/docs/Web/API/Element/querySelector\n    // Element.querySelectorAll() – https://developer.mozilla.org/en-US/docs/Web/API/Element/querySelectorAll\n    // Element.releasePointerCapture() – https://developer.mozilla.org/en-US/docs/Web/API/Element/releasePointerCapture\n    // Element.requestFullscreen() – https://developer.mozilla.org/en-US/docs/Web/API/Element/requestFullscreen\n    // Element.requestPointerLock() – https://developer.mozilla.org/en-US/docs/Web/API/Element/requestPointerLock\n    // Element.scrollIntoView() – https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollIntoView\n    // Element.setCapture() – https://developer.mozilla.org/en-US/docs/Web/API/Element/setCapture\n    // Element.setPointerCapture() – https://developer.mozilla.org/en-US/docs/Web/API/Element/setPointerCapture\n    // Mixins not implemented\n    // Slotable.assignedSlot – https://developer.mozilla.org/en-US/docs/Web/API/Slotable/assignedSlot\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/outerHTML\n     * @return string representation of serialized HTML describing the Element and its descendants.\n     */\n    get outerHTML() {\n        return `<${[this.nodeName, attrsToString(this.attributes)].join(' ').trim()}>${this.innerHTML}</${this.nodeName}>`;\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/innerHTML\n     * @return string representation of serialized HTML describing the Element's descendants.\n     */\n    get innerHTML() {\n        const childNodes = this.childNodes;\n        if (childNodes.length) {\n            return childNodes.map(child => (child.nodeType === 1 /* ELEMENT_NODE */ ? child.outerHTML : child.textContent)).join('');\n        }\n        return '';\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Node/textContent\n     * @param text new text replacing all childNodes content.\n     */\n    set textContent(text) {\n        // TODO(KB): Investigate removing all children in a single .splice to childNodes.\n        this.childNodes.forEach(childNode => childNode.remove());\n        this.appendChild(new Text(text));\n    }\n    /**\n     * Getter returning the text representation of Element.childNodes.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Node/textContent\n     * @return text from all childNodes.\n     */\n    get textContent() {\n        return super.textContent;\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/tagName\n     * @return string tag name (i.e 'div')\n     */\n    get tagName() {\n        return this.nodeName;\n    }\n    /**\n     * Getter returning children of an Element that are Elements themselves.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/ParentNode/children\n     * @return Element objects that are children of this ParentNode, omitting all of its non-element nodes.\n     */\n    get children() {\n        return this.childNodes.filter(isElementPredicate);\n    }\n    /**\n     * Getter returning the number of child elements of a Element.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/ParentNode/childElementCount\n     * @return number of child elements of the given Element.\n     */\n    get childElementCount() {\n        return this.children.length;\n    }\n    /**\n     * Getter returning the first Element in Element.childNodes.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/ParentNode/firstElementChild\n     * @return first childNode that is also an element.\n     */\n    get firstElementChild() {\n        return this.childNodes.find(isElementPredicate) || null;\n    }\n    /**\n     * Getter returning the last Element in Element.childNodes.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/ParentNode/lastElementChild\n     * @return first childNode that is also an element.\n     */\n    get lastElementChild() {\n        const children = this.children;\n        return children[children.length - 1] || null;\n    }\n    /**\n     * Sets the value of an attribute on this element using a null namespace.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/setAttribute\n     * @param name attribute name\n     * @param value attribute value\n     */\n    setAttribute(name, value) {\n        this.setAttributeNS(null, name, value);\n    }\n    /**\n     * Get the value of an attribute on this Element with the null namespace.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/getAttribute\n     * @param name attribute name\n     * @return value of a specified attribute on the element, or null if the attribute doesn't exist.\n     */\n    getAttribute(name) {\n        return this.getAttributeNS(null, name);\n    }\n    /**\n     * Remove an attribute from this element in the null namespace.\n     *\n     * Method returns void, so it is not chainable.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/removeAttribute\n     * @param name attribute name\n     */\n    removeAttribute(name) {\n        this.removeAttributeNS(null, name);\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/hasAttribute\n     * @param name attribute name\n     * @return Boolean indicating if the element has the specified attribute.\n     */\n    hasAttribute(name) {\n        return this.hasAttributeNS(null, name);\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/hasAttributes\n     * @return Boolean indicating if the element has any attributes.\n     */\n    hasAttributes() {\n        return this.attributes.length > 0;\n    }\n    /**\n     * Sets the value of an attribute on this Element with the provided namespace.\n     *\n     * If the attribute already exists, the value is updated; otherwise a new attribute is added with the specified name and value.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/setAttributeNS\n     * @param namespaceURI\n     * @param name attribute name\n     * @param value attribute value\n     */\n    setAttributeNS(namespaceURI, name, value) {\n        if (this.propertyBackedAttributes_[name] !== undefined) {\n            if (!this.attributes.find(matchAttrPredicate(namespaceURI, name))) {\n                this.attributes.push({\n                    namespaceURI,\n                    name,\n                    value,\n                });\n            }\n            this.propertyBackedAttributes_[name][1](value);\n            return;\n        }\n        const oldValue = this.storeAttributeNS_(namespaceURI, name, value);\n        mutate({\n            type: 0 /* ATTRIBUTES */,\n            target: this,\n            attributeName: name,\n            attributeNamespace: namespaceURI,\n            value,\n            oldValue,\n        });\n    }\n    storeAttributeNS_(namespaceURI, name, value) {\n        const attr = this.attributes.find(matchAttrPredicate(namespaceURI, name));\n        const oldValue = (attr && attr.value) || '';\n        if (attr) {\n            attr.value = value;\n        }\n        else {\n            this.attributes.push({\n                namespaceURI,\n                name,\n                value,\n            });\n        }\n        return oldValue;\n    }\n    /**\n     * Get the value of an attribute on this Element with the specified namespace.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/getAttributeNS\n     * @param namespaceURI attribute namespace\n     * @param name attribute name\n     * @return value of a specified attribute on the element, or null if the attribute doesn't exist.\n     */\n    getAttributeNS(namespaceURI, name) {\n        const attr = this.attributes.find(matchAttrPredicate(namespaceURI, name));\n        if (attr) {\n            return this.propertyBackedAttributes_[name] !== undefined ? this.propertyBackedAttributes_[name][0]() : attr.value;\n        }\n        return null;\n    }\n    /**\n     * Remove an attribute from this element in the specified namespace.\n     *\n     * Method returns void, so it is not chainable.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/removeAttribute\n     * @param namespaceURI attribute namespace\n     * @param name attribute name\n     */\n    removeAttributeNS(namespaceURI, name) {\n        const index = this.attributes.findIndex(matchAttrPredicate(namespaceURI, name));\n        if (index >= 0) {\n            const oldValue = this.attributes[index].value;\n            this.attributes.splice(index, 1);\n            mutate({\n                type: 0 /* ATTRIBUTES */,\n                target: this,\n                attributeName: name,\n                attributeNamespace: namespaceURI,\n                oldValue,\n            });\n        }\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/hasAttributeNS\n     * @param namespaceURI attribute namespace\n     * @param name attribute name\n     * @return Boolean indicating if the element has the specified attribute.\n     */\n    hasAttributeNS(namespaceURI, name) {\n        return this.attributes.some(matchAttrPredicate(namespaceURI, name));\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/getElementsByClassName\n     * @param names contains one more more classnames to match on. Multiples are space seperated, indicating an AND operation.\n     * @return Element array with matching classnames\n     */\n    getElementsByClassName(names) {\n        const inputClassList = names.split(' ');\n        // TODO(KB) – Compare performance of [].some(value => DOMTokenList.contains(value)) and regex.\n        // const classRegex = new RegExp(classNames.split(' ').map(name => `(?=.*${name})`).join(''));\n        return matchChildrenElements(this, element => inputClassList.some(inputClassName => element.classList.contains(inputClassName)));\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/getElementsByTagName\n     * @param tagName the qualified name to look for. The special string \"*\" represents all elements.\n     * @return Element array with matching tagnames\n     */\n    getElementsByTagName(tagName) {\n        return matchChildrenElements(this, tagName === '*' ? _ => true : element => element.tagName === tagName);\n    }\n}\nreflectProperties([{ id: [''] }], Element);\n//# sourceMappingURL=Element.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Element } from './Element';\nimport { reflectProperties } from './enhanceElement';\nimport { matchNearestParent, tagNameConditionPredicate } from './matchElements';\nexport class HTMLElement extends Element {\n    /**\n     * Find the nearest parent form element.\n     * Implemented in HTMLElement since so many extensions of HTMLElement repeat this functionality. This is not to spec.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLFieldSetElement\n     * @return nearest parent form element.\n     */\n    get form() {\n        return matchNearestParent(this, tagNameConditionPredicate(['form']));\n    }\n}\n// Reflected properties\n// HTMLElement.accessKey => string, reflected attribute\n// HTMLElement.contentEditable => string, reflected attribute\n// HTMLElement.dir => string, reflected attribute\n// HTMLElement.lang => string, reflected attribute\n// HTMLElement.title => string, reflected attribute\n// HTMLElement.draggable => boolean, reflected attribute\n// HTMLElement.hidden => boolean, reflected attribute\n// HTMLElement.noModule => boolean, reflected attribute\n// HTMLElement.spellcheck => boolean, reflected attribute\n// HTMLElement.translate => boolean, reflected attribute\nreflectProperties([\n    { accessKey: [''] },\n    { contentEditable: ['inherit'] },\n    { dir: [''] },\n    { lang: [''] },\n    { title: [''] },\n    { draggable: [false] },\n    { hidden: [false] },\n    { noModule: [false] },\n    { spellcheck: [true] },\n    { translate: [true] },\n], HTMLElement);\n// Properties\n// HTMLElement.accessKeyLabel => string, readonly value of \"accessKey\"\n// HTMLElement.isContentEditable => boolean, readonly value of contentEditable\n// HTMLElement.nonce => string, NOT REFLECTED\n// HTMLElement.tabIndex => number, reflected attribute\n// Layout Properties (TBD)\n// HTMLElement.offsetHeight => double, readonly\n// HTMLElement.offsetLeft => double, readonly\n// HTMLElement.offsetParent => Element\n// HTMLElement.offsetTop => double, readonly\n// HTMLElement.offsetWidth => double, readonly\n// Unimplemented Properties\n// HTMLElement.contextMenu => HTMLElement\n// HTMLElement.dataset => Map<string (get/set), string>\n// HTMLElement.dropzone => DOMSettableTokenList (DOMTokenList)\n// HTMLElement.inert => boolean, reflected\n// HTMLElement.itemScope => boolean\n// HTMLElement.itemType => DOMSettableTokenList (DOMTokenList)\n// HTMLElement.itemId => string\n// HTMLElement.itemRef => DOMSettableTokenList (DOMTokenList)\n// HTMLElement.itemProp => DOMSettableTokenList (DOMTokenList)\n// HTMLElement.itemValue => object\n// HTMLElement.properties => HTMLPropertiesCollection, readonly\n//# sourceMappingURL=HTMLElement.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { registerSubclass } from './Element';\nimport { HTMLElement } from './HTMLElement';\nimport { DOMTokenList } from './DOMTokenList';\nimport { reflectProperties } from './enhanceElement';\nexport class HTMLAnchorElement extends HTMLElement {\n    constructor() {\n        super(...arguments);\n        this.relList = new DOMTokenList(HTMLAnchorElement, this, 'rel', 'relList', 'rel');\n    }\n    /**\n     * Returns the href property/attribute value\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/toString\n     * @return string href attached to HTMLAnchorElement\n     */\n    toString() {\n        return this.href;\n    }\n    /**\n     * A Synonym for the Node.textContent property getter.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLAnchorElement\n     * @return value of text node direct child of this Element.\n     */\n    get text() {\n        return this.textContent;\n    }\n    /**\n     * A Synonym for the Node.textContent property setter.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLAnchorElement\n     * @param text replacement for all current childNodes.\n     */\n    set text(text) {\n        this.textContent = text;\n    }\n}\nregisterSubclass('a', HTMLAnchorElement);\n// Reflected properties, strings.\n// HTMLAnchorElement.href => string, reflected attribute\n// HTMLAnchorElement.hreflang => string, reflected attribute\n// HTMLAnchorElement.media => string, reflected attribute\n// HTMLAnchorElement.target => string, reflected attribute\n// HTMLAnchorElement.type => string, reflected attribute\nreflectProperties([{ href: [''] }, { hreflang: [''] }, { media: [''] }, { target: [''] }, { type: [''] }], HTMLAnchorElement);\n// Unimplemented\n// HTMLAnchorElement.download => string, reflected attribute\n// HTMLAnchorElement.type => Is a DOMString that reflects the type HTML attribute, indicating the MIME type of the linked resource.\n// Unimplemented URL parse of href attribute due to IE11 compatibility and low usage.\n// Note: Implementation doable using a private url property\n/*\n  class {\n    private url: URL | null = null;\n\n    constructor(...) {\n      // Element.getAttribute('href') => Element.href.\n      Object.assign(this.propertyBackedAttributes_, {\n        href: this.href,\n      });\n    }\n\n    get href(): string {\n      return this.url ? this.url.href : '';\n    }\n    set href(url: string) {\n      this.url = new URL(url);\n      this.setAttribute('href', this.url.href);\n    }\n  }\n*/\n// HTMLAnchorElement.host => string\n// HTMLAnchorElement.hostname => string\n// HTMLAnchorElement.protocol => string\n// HTMLAnchorElement.pathname => string\n// HTMLAnchorElement.search => string\n// HTMLAnchorElement.hash => string\n// HTMLAnchorElement.username => string\n// HTMLAnchorElement.password => string\n// HTMLAnchorElement.origin => string, readonly (getter no setter)\n//# sourceMappingURL=HTMLAnchorElement.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { registerSubclass } from './Element';\nimport { HTMLElement } from './HTMLElement';\nimport { reflectProperties } from './enhanceElement';\nexport class HTMLButtonElement extends HTMLElement {\n}\nregisterSubclass('button', HTMLButtonElement);\n// Reflected properties, strings.\n// HTMLButtonElement.formAction => string, reflected attribute\n// HTMLButtonElement.formEnctype => string, reflected attribute\n// HTMLButtonElement.formMethod => string, reflected attribute\n// HTMLButtonElement.formTarget => string, reflected attribute\n// HTMLButtonElement.name => string, reflected attribute\n// HTMLButtonElement.type => string, reflected attribute (default submit)\n// HTMLButtonElement.value => string, reflected attribute\n// HTMLButtonElement.autofocus => boolean, reflected attribute\n// HTMLButtonElement.disabled => boolean, reflected attribute\nreflectProperties([\n    { formAction: [''] },\n    { formEnctype: [''] },\n    { formMethod: [''] },\n    { formTarget: [''] },\n    { name: [''] },\n    { type: ['submit'] },\n    { value: [''] },\n    { autofocus: [false] },\n    { disabled: [false] },\n], HTMLButtonElement);\n// Not reflected\n// HTMLButtonElement.formNoValidate => boolean\n// HTMLButtonElement.validity => ValidityState, readonly\n// Unimplemented\n// HTMLButtonElement.form => HTMLFormElement | null, readonly\n// HTMLButtonElement.labels => Array<HTMLLabelElement>, readonly\n// HTMLButtonElement.menu => HTMLMenuElement\n// HTMLButtonElement.willValidate => boolean, readonly\n// HTMLButtonElement.validationMessage => string, readonly\n//# sourceMappingURL=HTMLButtonElement.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { registerSubclass } from './Element';\nimport { HTMLElement } from './HTMLElement';\nimport { reflectProperties } from './enhanceElement';\nexport class HTMLDataElement extends HTMLElement {\n}\nregisterSubclass('data', HTMLDataElement);\n// Reflected properties, strings.\n// HTMLEmbedElement.value => string, reflected attribute\nreflectProperties([{ value: [''] }], HTMLDataElement);\n//# sourceMappingURL=HTMLDataElement.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { registerSubclass } from './Element';\nimport { HTMLElement } from './HTMLElement';\nimport { reflectProperties } from './enhanceElement';\nexport class HTMLEmbedElement extends HTMLElement {\n}\nregisterSubclass('embed', HTMLEmbedElement);\n// Reflected properties, strings.\n// HTMLEmbedElement.height => string, reflected attribute\n// HTMLEmbedElement.src => string, reflected attribute\n// HTMLEmbedElement.type => string, reflected attribute\n// HTMLEmbedElement.width => string, reflected attribute\nreflectProperties([{ height: [''] }, { src: [''] }, { type: [''] }, { width: [''] }], HTMLEmbedElement);\n// Unimplemented\n// HTMLEmbedElement.align => string, not reflected\n// HTMLEmbedElement.name => string, not reflected\n//# sourceMappingURL=HTMLEmbedElement.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { matchChildrenElements, tagNameConditionPredicate } from './matchElements';\nconst MATCHING_CHILD_ELEMENT_TAGNAMES = 'button fieldset input object output select textarea'.split(' ');\n/**\n * The HTMLFormControlsCollection interface represents a collection of HTML form control elements.\n * It is mixedin to both HTMLFormElement and HTMLFieldSetElement.\n */\nexport const HTMLFormControlsCollectionMixin = (defineOn) => {\n    Object.defineProperty(defineOn.prototype, 'elements', {\n        /**\n         * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLFormControlsCollection\n         * @return Element array matching children of specific tagnames.\n         */\n        get() {\n            return matchChildrenElements(this, tagNameConditionPredicate(MATCHING_CHILD_ELEMENT_TAGNAMES));\n        },\n    });\n};\n//# sourceMappingURL=HTMLFormControlsMixin.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { registerSubclass } from './Element';\nimport { reflectProperties } from './enhanceElement';\nimport { HTMLFormControlsCollectionMixin } from './HTMLFormControlsMixin';\nimport { HTMLElement } from './HTMLElement';\nexport class HTMLFieldSetElement extends HTMLElement {\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLFieldSetElement\n     * @return hardcoded string 'fieldset'\n     */\n    get type() {\n        return this.tagName;\n    }\n}\nregisterSubclass('fieldset', HTMLFieldSetElement);\nHTMLFormControlsCollectionMixin(HTMLFieldSetElement);\n// Reflected properties\n// HTMLFieldSetElement.name => string, reflected attribute\n// HTMLFieldSetElement.disabled => boolean, reflected attribute\nreflectProperties([{ name: [''] }, { disabled: [false] }], HTMLFieldSetElement);\n// Unimplemented properties\n// HTMLFieldSetElement.validity\n// HTMLFieldSetElement.willValidate\n// HTMLFieldSetElement.validationMessage\n//# sourceMappingURL=HTMLFieldSetElement.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { registerSubclass } from './Element';\nimport { HTMLElement } from './HTMLElement';\nimport { HTMLFormControlsCollectionMixin } from './HTMLFormControlsMixin';\nimport { reflectProperties } from './enhanceElement';\nexport class HTMLFormElement extends HTMLElement {\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLFormElement/length\n     * @return number of controls in the form\n     */\n    get length() {\n        return this.elements.length;\n    }\n}\nregisterSubclass('form', HTMLFormElement);\nHTMLFormControlsCollectionMixin(HTMLFormElement);\n// Reflected properties\n// HTMLFormElement.name => string, reflected attribute\n// HTMLFormElement.method => string, reflected attribute\n// HTMLFormElement.target => string, reflected attribute\n// HTMLFormElement.action => string, reflected attribute\n// HTMLFormElement.enctype => string, reflected attribute\n// HTMLFormElement.acceptCharset => string, reflected attribute\n// HTMLFormElement.autocomplete => string, reflected attribute\n// HTMLFormElement.autocapitalize => string, reflected attribute\nreflectProperties([\n    { name: [''] },\n    { method: ['get'] },\n    { target: [''] },\n    { action: [''] },\n    { enctype: ['application/x-www-form-urlencoded'] },\n    { acceptCharset: ['', 'accept-charset'] },\n    { autocomplete: ['on'] },\n    { autocapitalize: ['sentences'] },\n], HTMLFormElement);\n// Unimplemented properties\n// HTMLFormElement.encoding => string, reflected attribute\n// HTMLFormElement.noValidate => boolean, reflected attribute\n/*\nUnimplemented, TBD:\n\nNamed inputs are added to their owner form instance as properties, and can overwrite native properties\nif they share the same name (eg a form with an input named action will have its action property return\nthat input instead of the form's action HTML attribute).\n*/\n//# sourceMappingURL=HTMLFormElement.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { registerSubclass } from './Element';\nimport { HTMLElement } from './HTMLElement';\nimport { reflectProperties } from './enhanceElement';\nimport { DOMTokenList } from './DOMTokenList';\nexport class HTMLIFrameElement extends HTMLElement {\n    constructor() {\n        super(...arguments);\n        // HTMLIFrameElement.sandbox, DOMTokenList, reflected attribute\n        this.sandbox = new DOMTokenList(HTMLIFrameElement, this, 'sandbox', null, null);\n    }\n}\nregisterSubclass('iframe', HTMLIFrameElement);\n// Reflected properties\n// HTMLIFrameElement.allow => string, reflected attribute\n// HTMLIFrameElement.allowFullscreen => boolean, reflected attribute\n// HTMLIFrameElement.csp => string, reflected attribute\n// HTMLIFrameElement.height => string, reflected attribute\n// HTMLIFrameElement.name => string, reflected attribute\n// HTMLIFrameElement.referrerPolicy => string, reflected attribute\n// HTMLIFrameElement.src => string, reflected attribute\n// HTMLIFrameElement.srcdoc => string, reflected attribute\n// HTMLIFrameElement.width => string, reflected attribute\nreflectProperties([\n    { allow: [''] },\n    { allowFullscreen: [false] },\n    { csp: [''] },\n    { height: [''] },\n    { name: [''] },\n    { referrerPolicy: [''] },\n    { src: [''] },\n    { srcdoc: [''] },\n    { width: [''] },\n], HTMLIFrameElement);\n// Unimplemented Properties\n// HTMLIFrameElement.allowPaymentRequest => boolean, reflected attribute\n// HTMLIFrameElement.contentDocument => Document, read only (active document in the inline frame's nested browsing context)\n// HTMLIFrameElement.contentWindow => WindowProxy, read only (window proxy for the nested browsing context)\n//# sourceMappingURL=HTMLIFrameElement.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { registerSubclass } from './Element';\nimport { HTMLElement } from './HTMLElement';\nimport { reflectProperties } from './enhanceElement';\nexport class HTMLImageElement extends HTMLElement {\n}\nregisterSubclass('img', HTMLImageElement);\n// Reflected Properties\n// HTMLImageElement.alt => string, reflected attribute\n// HTMLImageElement.crossOrigin => string, reflected attribute\n// HTMLImageElement.height => number, reflected attribute\n// HTMLImageElement.isMap => boolean, reflected attribute\n// HTMLImageElement.referrerPolicy => string, reflected attribute\n// HTMLImageElement.src => string, reflected attribute\n// HTMLImageElement.sizes => string, reflected attribute\n// HTMLImageElement.srcset => string, reflected attribute\n// HTMLImageElement.useMap => string, reflected attribute\n// HTMLImageElement.width => number, reflected attribute\nreflectProperties([\n    { alt: [''] },\n    { crossOrigin: [''] },\n    { height: [0] },\n    { isMap: [false] },\n    { referrerPolicy: [''] },\n    { src: [''] },\n    { sizes: [''] },\n    { srcset: [''] },\n    { useMap: [''] },\n    { width: [0] },\n], HTMLImageElement);\n// Unimplmented Properties\n// HTMLImageElement.complete Read only\n// Returns a Boolean that is true if the browser has finished fetching the image, whether successful or not. It also shows true, if the image has no src value.\n// HTMLImageElement.currentSrc Read only\n// Returns a DOMString representing the URL to the currently displayed image (which may change, for example in response to media queries).\n// HTMLImageElement.naturalHeight Read only\n// Returns a unsigned long representing the intrinsic height of the image in CSS pixels, if it is available; else, it shows 0.\n// HTMLImageElement.naturalWidth Read only\n// Returns a unsigned long representing the intrinsic width of the image in CSS pixels, if it is available; otherwise, it will show 0.\n//# sourceMappingURL=HTMLImageElement.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { matchChildrenElements } from './matchElements';\n/**\n * The HTMLInputLabels interface represents a collection of input getters for their related label Elements.\n * It is mixedin to both HTMLInputElement, HTMLMeterElement, and HTMLProgressElement.\n */\nexport const HTMLInputLabelsMixin = (defineOn) => {\n    Object.defineProperty(defineOn.prototype, 'labels', {\n        /**\n         * Getter returning label elements associated to this meter.\n         * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLProgressElement/labels\n         * @return label elements associated to this meter.\n         */\n        get() {\n            return matchChildrenElements(this.ownerDocument || this, element => element.tagName === 'label' && element.for && element.for === this.id);\n        },\n    });\n};\n//# sourceMappingURL=HTMLInputLabelsMixin.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { registerSubclass } from './Element';\nimport { HTMLElement } from './HTMLElement';\nimport { reflectProperties } from './enhanceElement';\nimport { HTMLInputLabelsMixin } from './HTMLInputLabelsMixin';\nexport class HTMLInputElement extends HTMLElement {\n}\nregisterSubclass('input', HTMLInputElement);\nHTMLInputLabelsMixin(HTMLInputElement);\n// Reflected Properties\n// HTMLInputElement.formAction => string, reflected attribute\n// HTMLInputElement.formEncType\t=> string, reflected attribute\n// HTMLInputElement.formMethod => string, reflected attribute\n// HTMLInputElement.formTarget => string, reflected attribute\n// HTMLInputElement.name => string, reflected attribute\n// HTMLInputElement.type => string, reflected attribute\n// HTMLInputElement.disabled => boolean, reflected attribute\n// HTMLInputElement.autofocus => boolean, reflected attribute\n// HTMLInputElement.required => boolean, reflected attribute\n// HTMLInputElement.defaultChecked => boolean, reflected attribute (\"checked\")\n// HTMLInputElement.alt => string, reflected attribute\n// HTMLInputElement.height => number, reflected attribute\n// HTMLInputElement.src => string, reflected attribute\n// HTMLInputElement.width => number, reflected attribute\n// HTMLInputElement.accept => string, reflected attribute\n// HTMLInputElement.autocomplete => string, reflected attribute\n// HTMLInputElement.maxLength => number, reflected attribute\n// HTMLInputElement.size => number, reflected attribute\n// HTMLInputElement.pattern => string, reflected attribute\n// HTMLInputElement.placeholder => string, reflected attribute\n// HTMLInputElement.readOnly => boolean, reflected attribute\n// HTMLInputElement.min => string, reflected attribute\n// HTMLInputElement.max => string, reflected attribute\n// HTMLInputElement.defaultValue => string, reflected attribute\n// HTMLInputElement.dirname => string, reflected attribute\n// HTMLInputElement.multiple => boolean, reflected attribute\n// HTMLInputElement.step => string, reflected attribute\n// HTMLInputElement.autocapitalize => string, reflected attribute\nreflectProperties([\n    { formAction: [''] },\n    { formEncType: [''] },\n    { formMethod: [''] },\n    { formTarget: [''] },\n    { name: [''] },\n    { type: ['text'] },\n    { disabled: [false] },\n    { autofocus: [false] },\n    { required: [false] },\n    { defaultChecked: [false, 'checked'] },\n    { alt: [''] },\n    { height: [0] },\n    { src: [''] },\n    { width: [0] },\n    { accept: [''] },\n    { autocomplete: [''] },\n    { maxLength: [0] },\n    { size: [0] },\n    { pattern: [''] },\n    { placeholder: [''] },\n    { readOnly: [false] },\n    { min: [''] },\n    { max: [''] },\n    { defaultValue: ['', 'value'] },\n    { dirName: [''] },\n    { multiple: [false] },\n    { step: [''] },\n    { autocapitalize: [''] },\n], HTMLInputElement);\n// TODO(KB) Not Reflected Properties\n// HTMLInputElement.value => string\n// HTMLInputElement.checked\t=> boolean\n// HTMLInputElement.indeterminate => boolean\n// Unimplemented Properties\n// HTMLInputElement.formNoValidate => string, reflected attribute\n// HTMLInputElement.validity => ValidityState, readonly\n// HTMLInputElement.validationMessage => string, readonly\n// HTMLInputElement.willValidate => boolean, readonly\n// HTMLInputElement.allowdirs => boolean\n// HTMLInputElement.files\t=> Array<File>\n// HTMLInputElement.webkitdirectory\t=> boolean, reflected attribute\n// HTMLInputElement.webkitEntries => Array<FileSystemEntry>\n// HTMLInputElement.selectionStart => number\n// HTMLInputElement.selectionEnd => number\n// HTMLInputElement.selectionDirection => string\n// HTMLInputElement.list => Element, read only (element pointed by list attribute)\n// HTMLInputElement.valueAsDate => Date\n// HTMLInputElement.valueAsNumber => number\n// Unimplemented Methods\n// HTMLInputElement.setSelectionRange()\n// HTMLInputElement.setRangeText()\n// HTMLInputElement.setCustomValidity()\n// HTMLInputElement.checkValidity()\n// HTMLInputElement.stepDown()\n// HTMLInputElement.stepUp()\n//# sourceMappingURL=HTMLInputElement.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { registerSubclass } from './Element';\nimport { HTMLElement } from './HTMLElement';\nimport { reflectProperties } from './enhanceElement';\nimport { matchChildElement, tagNameConditionPredicate } from './matchElements';\nexport class HTMLLabelElement extends HTMLElement {\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLLabelElement/control\n     * @return input element\n     */\n    get control() {\n        const htmlFor = this.getAttribute('for');\n        if (htmlFor !== null) {\n            return this.ownerDocument && this.ownerDocument.getElementById(htmlFor);\n        }\n        return matchChildElement(this, tagNameConditionPredicate(['input']));\n    }\n}\nregisterSubclass('label', HTMLLabelElement);\n// Reflected Properties\n// HTMLLabelElement.htmlFor => string, reflected attribute 'for'\nreflectProperties([{ htmlFor: ['', 'for'] }], HTMLLabelElement);\n//# sourceMappingURL=HTMLLabelElement.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { registerSubclass } from './Element';\nimport { HTMLElement } from './HTMLElement';\nimport { reflectProperties } from './enhanceElement';\nimport { DOMTokenList } from './DOMTokenList';\nexport class HTMLLinkElement extends HTMLElement {\n    constructor() {\n        super(...arguments);\n        this.relList = new DOMTokenList(HTMLLinkElement, this, 'rel', 'relList', 'rel');\n    }\n}\nregisterSubclass('link', HTMLLinkElement);\n// Reflected Properties\n// HTMLLinkElement.as => string, reflected attribute\n// HTMLLinkElement.crossOrigin => string, reflected attribute\n// HTMLLinkElement.disabled => boolean, reflected attribute\n// HTMLLinkElement.href => string, reflected attribute\n// HTMLLinkElement.hreflang => string, reflected attribute\n// HTMLLinkElement.media => string, reflected attribute\n// HTMLLinkElement.referrerPolicy => string, reflected attribute\n// HTMLLinkElement.sizes => string, reflected attribute\n// HTMLLinkElement.type => string, reflected attribute\nreflectProperties([\n    { as: [''] },\n    { crossOrigin: [''] },\n    { disabled: [false] },\n    { href: [''] },\n    { hreflang: [''] },\n    { media: [''] },\n    { referrerPolicy: [''] },\n    { sizes: [''] },\n    { type: [''] },\n], HTMLLinkElement);\n// Unimplemented Properties\n// LinkStyle.sheet Read only\n// Returns the StyleSheet object associated with the given element, or null if there is none.\n//# sourceMappingURL=HTMLLinkElement.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { registerSubclass } from './Element';\nimport { HTMLElement } from './HTMLElement';\nimport { reflectProperties } from './enhanceElement';\nimport { matchChildrenElements } from './matchElements';\nexport class HTMLMapElement extends HTMLElement {\n    /**\n     * Getter returning area elements associated to this map.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLMapElement\n     * @return area elements associated to this map.\n     */\n    get areas() {\n        return matchChildrenElements(this, element => element.tagName === 'area');\n    }\n}\nregisterSubclass('link', HTMLMapElement);\n// Reflected Properties\n// HTMLMapElement.name => string, reflected attribute\nreflectProperties([{ name: [''] }], HTMLMapElement);\n//# sourceMappingURL=HTMLMapElement.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { registerSubclass } from './Element';\nimport { HTMLElement } from './HTMLElement';\nimport { reflectProperties } from './enhanceElement';\nimport { HTMLInputLabelsMixin } from './HTMLInputLabelsMixin';\nexport class HTMLMeterElement extends HTMLElement {\n}\nregisterSubclass('meter', HTMLMeterElement);\nHTMLInputLabelsMixin(HTMLMeterElement);\n// Reflected Properties\n// HTMLMeterElement.high => number, reflected attribute\n// HTMLMeterElement.low => number, reflected attribute\n// HTMLMeterElement.max => number, reflected attribute\n// HTMLMeterElement.min => number, reflected attribute\n// HTMLMeterElement.optimum => number, reflected attribute\n// HTMLMeterElement.value => number, reflected attribute\nreflectProperties([{ high: [0] }, { low: [0] }, { max: [1] }, { min: [0] }, { optimum: [0] }, { value: [0] }], HTMLMeterElement);\n//# sourceMappingURL=HTMLMeterElement.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { registerSubclass } from './Element';\nimport { HTMLElement } from './HTMLElement';\nimport { reflectProperties } from './enhanceElement';\nexport class HTMLModElement extends HTMLElement {\n}\nregisterSubclass('del', HTMLModElement);\nregisterSubclass('ins', HTMLModElement);\n// Reflected Properties\n// HTMLModElement.cite => string, reflected attribute\n// HTMLModElement.datetime => string, reflected attribute\nreflectProperties([{ cite: [''] }, { datetime: [''] }], HTMLModElement);\n//# sourceMappingURL=HTMLModElement.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { registerSubclass } from './Element';\nimport { HTMLElement } from './HTMLElement';\nimport { reflectProperties } from './enhanceElement';\nexport class HTMLOListElement extends HTMLElement {\n}\nregisterSubclass('ol', HTMLOListElement);\n// Reflected Properties\n// HTMLModElement.reversed => boolean, reflected attribute\n// HTMLModElement.start => number, reflected attribute\n// HTMLOListElement.type => string, reflected attribute\nreflectProperties([{ reversed: [false] }, { start: [1] }, { type: [''] }], HTMLOListElement);\n//# sourceMappingURL=HTMLOListElement.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { registerSubclass } from './Element';\nimport { HTMLElement } from './HTMLElement';\nimport { reflectProperties } from './enhanceElement';\nexport class HTMLOptionElement extends HTMLElement {\n    constructor(nodeType, nodeName, namespaceURI) {\n        super(nodeType, nodeName, namespaceURI);\n        this.isSelected = false;\n        this.propertyBackedAttributes_.selected = [() => String(this.isSelected), (value) => (this.selected = value === 'true')];\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLOptionElement\n     * @return position of the option within the list of options it's within, or zero if there is no valid parent.\n     */\n    get index() {\n        return (this.parentNode && this.parentNode.children.indexOf(this)) || 0;\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLOptionElement\n     * @return label attribute value or text content if there is no attribute.\n     */\n    get label() {\n        return this.getAttribute('label') || this.textContent;\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLOptionElement\n     * @param label new label value to store as an attribute.\n     */\n    set label(label) {\n        this.setAttribute('label', label);\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLOptionElement\n     * @return boolean based on if the option element is selected.\n     */\n    get selected() {\n        return this.isSelected;\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLOptionElement\n     * @param value new selected boolean value.\n     */\n    set selected(value) {\n        this.isSelected = value;\n        // TODO(KB) This is a mutation.\n    }\n    /**\n     * A Synonym for the Node.textContent property getter.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLOptionElement\n     * @return value of text node direct child of this Element.\n     */\n    get text() {\n        return this.textContent;\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLOptionElement\n     * @param text new text content to store for this Element.\n     */\n    set text(text) {\n        this.textContent = text;\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLOptionElement\n     * @return value attribute value or text content if there is no attribute.\n     */\n    get value() {\n        return this.getAttribute('value') || this.textContent;\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLOptionElement\n     * @param value new value for an option element.\n     */\n    set value(value) {\n        this.setAttribute('value', value);\n    }\n}\nregisterSubclass('option', HTMLOptionElement);\n// Reflected Properties\n// HTMLOptionElement.defaultSelected => boolean, reflected attribute\n// HTMLOptionElement.disabled => boolean, reflected attribute\n// HTMLOptionElement.type => string, reflected attribute\nreflectProperties([{ defaultSelected: [false, 'selected'] }, { disabled: [false] }, { type: [''] }], HTMLOptionElement);\n// Implemented at HTMLElement\n// HTMLOptionElement.form, Read only\t=> HTMLFormElement\n//# sourceMappingURL=HTMLOptionElement.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { registerSubclass } from './Element';\nimport { HTMLElement } from './HTMLElement';\nimport { reflectProperties } from './enhanceElement';\nimport { HTMLInputLabelsMixin } from './HTMLInputLabelsMixin';\nexport class HTMLProgressElement extends HTMLElement {\n    constructor() {\n        super(...arguments);\n        this._indeterminate = true;\n        this._value = 0;\n    }\n    get position() {\n        return this._indeterminate ? -1 : this._value / this.max;\n    }\n    get value() {\n        return this._value;\n    }\n    set value(value) {\n        this._indeterminate = false;\n        this._value = value;\n        // TODO(KB) This is a property mutation needing tracked.\n    }\n}\nregisterSubclass('progress', HTMLProgressElement);\nHTMLInputLabelsMixin(HTMLProgressElement);\n// Reflected Properties\n// HTMLModElement.max => number, reflected attribute\nreflectProperties([{ max: [1] }], HTMLProgressElement);\n//# sourceMappingURL=HTMLProgressElement.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { registerSubclass } from './Element';\nimport { HTMLElement } from './HTMLElement';\nimport { reflectProperties } from './enhanceElement';\nexport class HTMLQuoteElement extends HTMLElement {\n}\nregisterSubclass('blockquote', HTMLQuoteElement);\nregisterSubclass('q', HTMLQuoteElement);\n// Reflected Properties\n// HTMLModElement.cite => string, reflected attribute\nreflectProperties([{ cite: [''] }], HTMLQuoteElement);\n//# sourceMappingURL=HTMLQuoteElement.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { registerSubclass } from './Element';\nimport { HTMLElement } from './HTMLElement';\nimport { reflectProperties } from './enhanceElement';\nexport class HTMLScriptElement extends HTMLElement {\n    /**\n     * A Synonym for the Node.textContent property getter.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLScriptElement\n     * @return value of text node direct child of this Element.\n     */\n    get text() {\n        return this.textContent;\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLScriptElement\n     * @param text new text content to store for this Element.\n     */\n    set text(text) {\n        this.textContent = text;\n    }\n}\nregisterSubclass('script', HTMLScriptElement);\n// Reflected Properties\n// HTMLScriptElement.type => string, reflected attribute\n// HTMLScriptElement.src => string, reflected attribute\n// HTMLScriptElement.charset => string, reflected attribute\n// HTMLScriptElement.async => boolean, reflected attribute\n// HTMLScriptElement.defer => boolean, reflected attribute\n// HTMLScriptElement.crossOrigin => string, reflected attribute\n// HTMLScriptElement.noModule => boolean, reflected attribute\nreflectProperties([{ type: [''] }, { src: [''] }, { charset: [''] }, { async: [false] }, { defer: [false] }, { crossOrigin: [''] }, { noModule: [false] }], HTMLScriptElement);\n//# sourceMappingURL=HTMLScriptElement.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { registerSubclass } from './Element';\nimport { HTMLElement } from './HTMLElement';\nimport { reflectProperties } from './enhanceElement';\nimport { HTMLInputLabelsMixin } from './HTMLInputLabelsMixin';\nimport { matchChildrenElements, matchChildElement, tagNameConditionPredicate } from './matchElements';\nconst isOptionPredicate = tagNameConditionPredicate(['option']);\nconst isSelectedOptionPredicate = (element) => element.tagName === 'option' && element.selected;\nexport class HTMLSelectElement extends HTMLElement {\n    constructor() {\n        super(...arguments);\n        this._size_ = -1 /* UNMODIFIED */;\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLFormElement/length\n     * @return number of controls in the form\n     */\n    get length() {\n        return matchChildrenElements(this, isOptionPredicate).length;\n    }\n    /**\n     * Getter returning option elements that are direct children of a HTMLSelectElement\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLSelectElement\n     * @return Element \"options\" objects that are direct children.\n     */\n    get options() {\n        return this.children.filter(isOptionPredicate);\n    }\n    /**\n     * Getter returning the index of the first selected <option> element.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLSelectElement/selectedIndex\n     * @return the index of the first selected option element, or -1 if no element is selected.\n     */\n    get selectedIndex() {\n        const firstSelectedChild = matchChildElement(this, isSelectedOptionPredicate);\n        return firstSelectedChild ? this.children.indexOf(firstSelectedChild) : -1;\n    }\n    /**\n     * Setter making the <option> element at the passed index selected.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLSelectElement/selectedIndex\n     * @param selectedIndex index number to make selected.\n     */\n    set selectedIndex(selectedIndex) {\n        this.children.forEach((element, index) => {\n            element.selected = index === selectedIndex;\n        });\n    }\n    /**\n     * Getter returning the <option> elements selected.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLSelectElement/selectedOptions\n     * @return array of Elements currently selected.\n     */\n    get selectedOptions() {\n        return matchChildrenElements(this, isSelectedOptionPredicate);\n    }\n    /**\n     * Getter returning the size of the select element (by default 1 for single and 4 for multiple)\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLSelectElement\n     * @return size of the select element.\n     */\n    get size() {\n        return this._size_ === -1 /* UNMODIFIED */ ? (this.multiple ? 4 /* MULTIPLE */ : 1 /* SINGLE */) : this._size_;\n    }\n    /**\n     * Override the size of this element (each positive unit is the height of a single option)\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLSelectElement\n     * @param size number to set the size to.\n     */\n    set size(size) {\n        this._size_ = size > 0 ? size : this.multiple ? 4 /* MULTIPLE */ : 1 /* SINGLE */;\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLSelectElement\n     * @return string representing the select element type.\n     */\n    get type() {\n        return this.multiple ? \"select-one\" /* MULTIPLE */ : \"select-multiple\" /* SINGLE */;\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLSelectElement\n     * @return the value of the first selected option\n     */\n    get value() {\n        const firstSelectedChild = matchChildElement(this, isSelectedOptionPredicate);\n        return firstSelectedChild ? firstSelectedChild.value : '';\n    }\n}\nregisterSubclass('select', HTMLSelectElement);\nHTMLInputLabelsMixin(HTMLSelectElement);\n// Reflected Properties\n// HTMLSelectElement.multiple => boolean, reflected attribute\n// HTMLSelectElement.name => string, reflected attribute\n// HTMLSelectElement.required => boolean, reflected attribute\nreflectProperties([{ multiple: [false] }, { name: [''] }, { required: [false] }], HTMLSelectElement);\n// Implemented on HTMLElement\n// HTMLSelectElement.form => HTMLFormElement, readonly\n// Unimplemented Properties\n// HTMLSelectElement.validation => string\n// HTMLSelectElement.validity => ValidityState\n// HTMLSelectElement.willValidate => boolean\n//# sourceMappingURL=HTMLSelectElement.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { registerSubclass } from './Element';\nimport { HTMLElement } from './HTMLElement';\nimport { reflectProperties } from './enhanceElement';\nexport class HTMLSourceElement extends HTMLElement {\n}\nregisterSubclass('source', HTMLSourceElement);\n// Reflected Properties\n// HTMLSourceElement.media => string, reflected attribute\n// HTMLSourceElement.sizes => string, reflected attribute\n// HTMLSourceElement.src => string, reflected attribute\n// HTMLSourceElement.srcset => string, reflected attribute\n// HTMLSourceElement.type => string, reflected attribute\nreflectProperties([{ media: [''] }, { sizes: [''] }, { src: [''] }, { srcset: [''] }, { type: [''] }], HTMLSourceElement);\n// Unimplemented Properties\n// HTMLSourceElement.keySystem => string\n//# sourceMappingURL=HTMLSourceElement.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { registerSubclass } from './Element';\nimport { HTMLElement } from './HTMLElement';\nimport { reflectProperties } from './enhanceElement';\nexport class HTMLStyleElement extends HTMLElement {\n}\nregisterSubclass('style', HTMLStyleElement);\n// Reflected Properties\n// HTMLStyleElement.media => string, reflected attribute\n// HTMLStyleElement.type => string, reflected attribute\nreflectProperties([{ media: [''] }, { type: [''] }], HTMLStyleElement);\n// Unimplemented Properties\n// HTMLStyleElement.disabled => boolean\n// HTMLStyleElement.scoped => boolean, reflected attribute\n// HTMLStyleElement.sheet => StyleSheet, read only\n//# sourceMappingURL=HTMLStyleElement.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { registerSubclass } from './Element';\nimport { HTMLElement } from './HTMLElement';\nimport { reflectProperties } from './enhanceElement';\nimport { DOMTokenList } from './DOMTokenList';\nimport { matchNearestParent, tagNameConditionPredicate, matchChildrenElements } from './matchElements';\nexport class HTMLTableCellElement extends HTMLElement {\n    constructor() {\n        super(...arguments);\n        this.headers = new DOMTokenList(HTMLTableCellElement, this, 'headers', null, null);\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLTableCellElement\n     * @return position of the cell within the parent tr, if not nested in a tr the value is -1.\n     */\n    get cellIndex() {\n        const parent = matchNearestParent(this, tagNameConditionPredicate(['tr']));\n        return parent !== null ? matchChildrenElements(parent, tagNameConditionPredicate(['th', 'td'])).indexOf(this) : -1;\n    }\n}\nregisterSubclass('th', HTMLTableCellElement);\nregisterSubclass('td', HTMLTableCellElement);\n// Reflected Properties\n// HTMLTableCellElement.abbr => string, reflected attribute\n// HTMLTableCellElement.colSpan => number, reflected attribute\n// HTMLTableCellElement.rowSpan => number, reflected attribute\n// HTMLTableCellElement.scope => string, reflected attribute\nreflectProperties([{ abbr: [''] }, { colSpan: [1] }, { rowSpan: [1] }, { scope: [''] }], HTMLTableCellElement);\n//# sourceMappingURL=HTMLTableCellElement.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { registerSubclass } from './Element';\nimport { HTMLElement } from './HTMLElement';\nimport { reflectProperties } from './enhanceElement';\nexport class HTMLTableColElement extends HTMLElement {\n}\nregisterSubclass('col', HTMLTableColElement);\n// Reflected Properties\n// HTMLTableColElement.span => number, reflected attribute\nreflectProperties([{ span: [1] }], HTMLTableColElement);\n//# sourceMappingURL=HTMLTableColElement.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { registerSubclass } from './Element';\nimport { HTMLElement } from './HTMLElement';\nimport { matchChildElement, matchChildrenElements, tagNameConditionPredicate } from './matchElements';\nconst removeElement = (element) => element && element.remove();\nconst insertBeforeElementsWithTagName = (parent, element, tagNames) => {\n    const insertBeforeElement = matchChildElement(parent, (element) => !tagNames.includes(element.tagName));\n    if (insertBeforeElement) {\n        parent.insertBefore(element, insertBeforeElement);\n    }\n    else {\n        parent.appendChild(element);\n    }\n};\nexport class HTMLTableElement extends HTMLElement {\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLTableElement/caption\n     * @return first matching caption Element or null if none exists.\n     */\n    get caption() {\n        return matchChildElement(this, tagNameConditionPredicate(['caption']));\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLTableElement/caption\n     * @param element new caption element to replace the existing, or become the first element child.\n     */\n    set caption(newElement) {\n        if (newElement && newElement.tagName === 'caption') {\n            // If a correct object is given,\n            // it is inserted in the tree as the first child of this element and the first <caption>\n            // that is a child of this element is removed from the tree, if any.\n            removeElement(this.caption);\n            this.insertBefore(newElement, this.firstElementChild);\n        }\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLTableElement/tHead\n     * @return first matching thead Element or null if none exists.\n     */\n    get tHead() {\n        return matchChildElement(this, tagNameConditionPredicate(['thead']));\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLTableElement/tHead\n     * @param newElement new thead element to insert in this table.\n     */\n    set tHead(newElement) {\n        if (newElement && newElement.tagName === 'thead') {\n            // If a correct object is given,\n            // it is inserted in the tree immediately before the first element that is\n            // neither a <caption>, nor a <colgroup>, or as the last child if there is no such element.\n            // Additionally, the first <thead> that is a child of this element is removed from the tree, if any.\n            removeElement(this.tHead);\n            insertBeforeElementsWithTagName(this, newElement, ['caption', 'colgroup']);\n        }\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLTableElement/tHead\n     * @return first matching thead Element or null if none exists.\n     */\n    get tFoot() {\n        return matchChildElement(this, tagNameConditionPredicate(['tfoot']));\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLTableElement/tHead\n     * @param newElement new tfoot element to insert in this table.\n     */\n    set tFoot(newElement) {\n        if (newElement && newElement.tagName === 'tfoot') {\n            // If a correct object is given,\n            // it is inserted in the tree immediately before the first element that is neither a <caption>,\n            // a <colgroup>, nor a <thead>, or as the last child if there is no such element, and the first <tfoot> that is a child of\n            // this element is removed from the tree, if any.\n            removeElement(this.tFoot);\n            insertBeforeElementsWithTagName(this, newElement, ['caption', 'colgroup', 'thead']);\n        }\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLTableElement\n     * @return array of 'tr' tagname elements\n     */\n    get rows() {\n        return matchChildrenElements(this, tagNameConditionPredicate(['tr']));\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLTableElement\n     * @return array of 'tbody' tagname elements\n     */\n    get tBodies() {\n        return matchChildrenElements(this, tagNameConditionPredicate(['tbody']));\n    }\n}\nregisterSubclass('table', HTMLTableElement);\n// Unimplemented Properties\n// HTMLTableElement.sortable => boolean\n// Unimplemented Methods\n// HTMLTableElement.createTHead()\n// HTMLTableElement.deleteTHead()\n// HTMLTableElement.createTFoot()\n// HTMLTableElement.deleteTFoot()\n// HTMLTableElement.createCaption()\n// HTMLTableElement.deleteCaption()\n// HTMLTableElement.insertRow()\n// HTMLTableElement.deleteRow()\n//# sourceMappingURL=HTMLTableElement.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { registerSubclass } from './Element';\nimport { HTMLElement } from './HTMLElement';\nimport { matchNearestParent, tagNameConditionPredicate, matchChildrenElements } from './matchElements';\nconst TABLE_SECTION_TAGNAMES = 'table tbody thead tfoot'.split(' ');\nconst indexInAncestor = (element, isValidAncestor) => {\n    const parent = matchNearestParent(element, isValidAncestor);\n    // TODO(KB): This is either a HTMLTableElement or HTMLTableSectionElement.\n    return parent === null ? -1 : parent.rows.indexOf(element);\n};\nexport class HTMLTableRowElement extends HTMLElement {\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLTableRowElement\n     * @return td and th elements that are children of this row.\n     */\n    get cells() {\n        return matchChildrenElements(this, tagNameConditionPredicate(['td', 'th']));\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLTableRowElement\n     * @return position of the row within a table, if not nested within in a table the value is -1.\n     */\n    get rowIndex() {\n        return indexInAncestor(this, tagNameConditionPredicate(['table']));\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLTableRowElement\n     * @return position of the row within a parent section, if not nested directly in a section the value is -1.\n     */\n    get sectionRowIndex() {\n        return indexInAncestor(this, tagNameConditionPredicate(TABLE_SECTION_TAGNAMES));\n    }\n    /**\n     * Removes the cell in provided position of this row.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLTableRowElement\n     * @param index position of the cell in the row to remove.\n     */\n    deleteCell(index) {\n        const cell = this.cells[index];\n        cell && cell.remove();\n    }\n    /**\n     * Insert a new cell ('td') in the row at a specified position.\n     * @param index position in the children to insert before.\n     * @return newly inserted td element.\n     */\n    insertCell(index) {\n        const cells = this.cells;\n        const td = this.ownerDocument.createElement('td');\n        if (index < 0 || index >= cells.length) {\n            this.appendChild(td);\n        }\n        else {\n            this.insertBefore(td, this.children[index]);\n        }\n        return td;\n    }\n}\nregisterSubclass('tr', HTMLTableRowElement);\n//# sourceMappingURL=HTMLTableRowElement.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { registerSubclass } from './Element';\nimport { HTMLElement } from './HTMLElement';\nimport { tagNameConditionPredicate, matchChildrenElements } from './matchElements';\nexport class HTMLTableSectionElement extends HTMLElement {\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLTableSectionElement\n     * @return All rows (tr elements) within the table section.\n     */\n    get rows() {\n        return matchChildrenElements(this, tagNameConditionPredicate(['tr']));\n    }\n    /**\n     * Remove a node in a specified position from the section.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLTableSectionElement\n     * @param index position in the section to remove the node of.\n     */\n    deleteRow(index) {\n        const rows = this.rows;\n        if (index >= 0 || index <= rows.length) {\n            rows[index].remove();\n        }\n    }\n    /**\n     * Insert a new row ('tr') in the row at a specified position.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLTableSectionElement\n     * @param index position in the children to insert before.\n     * @return newly inserted tr element.\n     */\n    insertRow(index) {\n        const rows = this.rows;\n        const tr = this.ownerDocument.createElement('tr');\n        if (index < 0 || index >= rows.length) {\n            this.appendChild(tr);\n        }\n        else {\n            this.insertBefore(tr, this.children[index]);\n        }\n        return tr;\n    }\n}\nregisterSubclass('thead', HTMLTableSectionElement);\nregisterSubclass('tfoot', HTMLTableSectionElement);\nregisterSubclass('tbody', HTMLTableSectionElement);\n//# sourceMappingURL=HTMLTableSectionElement.js.map","// <blockquote> and <q>\n/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { registerSubclass } from './Element';\nimport { HTMLElement } from './HTMLElement';\nimport { reflectProperties } from './enhanceElement';\nexport class HTMLTimeElement extends HTMLElement {\n}\nregisterSubclass('time', HTMLTimeElement);\n// Reflected Properties\n// HTMLTimeElement.dateTime => string, reflected attribute\nreflectProperties([{ dateTime: [''] }], HTMLTimeElement);\n//# sourceMappingURL=HTMLTimeElement.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Element, registerSubclass } from './Element';\nexport class SVGElement extends Element {\n}\nregisterSubclass('svg', SVGElement);\n//# sourceMappingURL=SVGElement.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport class Event {\n    constructor(type, opts) {\n        this._stop = false;\n        this._end = false;\n        this.type = type;\n        this.bubbles = !!opts.bubbles;\n        this.cancelable = !!opts.cancelable;\n    }\n    stopPropagation() {\n        this._stop = true;\n    }\n    stopImmediatePropagation() {\n        this._end = this._stop = true;\n    }\n    preventDefault() {\n        this.defaultPrevented = true;\n    }\n}\n//# sourceMappingURL=Event.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { consume as consumeNodes } from '../worker-thread/NodeMapping';\nimport { store as storeString, consume as consumeStrings } from '../worker-thread/StringMapping';\nlet document;\nlet observing = false;\nlet hydrated = false;\nconst serializeNodes = (nodes) => nodes.map(node => node._transferredFormat_);\n/**\n *\n * @param mutations\n */\nfunction serializeHydration(mutations) {\n    consumeNodes();\n    const hydratedNode = document.body.hydrate();\n    const events = [];\n    mutations.forEach(mutation => {\n        if (mutation.type === 4 /* COMMAND */ && mutation.addedEvents) {\n            mutation.addedEvents.forEach(addEvent => {\n                events.push(addEvent);\n            });\n        }\n    });\n    return {\n        [9 /* type */]: 2 /* HYDRATE */,\n        [39 /* strings */]: consumeStrings(),\n        [35 /* nodes */]: hydratedNode,\n        [20 /* addedEvents */]: events,\n    };\n}\n/**\n *\n * @param mutations\n */\nfunction serializeMutations(mutations) {\n    const nodes = consumeNodes().map(node => node._creationFormat_);\n    const transferrableMutations = [];\n    mutations.forEach(mutation => {\n        let transferable = {\n            [9 /* type */]: mutation.type,\n            [10 /* target */]: mutation.target._index_,\n        };\n        mutation.addedNodes && (transferable[11 /* addedNodes */] = serializeNodes(mutation.addedNodes));\n        mutation.removedNodes && (transferable[12 /* removedNodes */] = serializeNodes(mutation.removedNodes));\n        mutation.nextSibling && (transferable[14 /* nextSibling */] = mutation.nextSibling._transferredFormat_);\n        mutation.attributeName != null && (transferable[15 /* attributeName */] = storeString(mutation.attributeName));\n        mutation.attributeNamespace != null && (transferable[16 /* attributeNamespace */] = storeString(mutation.attributeNamespace));\n        mutation.oldValue != null && (transferable[19 /* oldValue */] = storeString(mutation.oldValue));\n        mutation.propertyName && (transferable[17 /* propertyName */] = storeString(mutation.propertyName));\n        mutation.value != null && (transferable[18 /* value */] = storeString(mutation.value));\n        mutation.addedEvents && (transferable[20 /* addedEvents */] = mutation.addedEvents);\n        mutation.removedEvents && (transferable[21 /* removedEvents */] = mutation.removedEvents);\n        transferrableMutations.push(transferable);\n    });\n    return {\n        [9 /* type */]: 3 /* MUTATE */,\n        [39 /* strings */]: consumeStrings(),\n        [35 /* nodes */]: nodes,\n        [34 /* mutations */]: transferrableMutations,\n    };\n}\n/**\n *\n * @param incoming\n * @param postMessage\n */\nfunction handleMutations(incoming, postMessage) {\n    if (postMessage) {\n        postMessage(hydrated === false ? serializeHydration(incoming) : serializeMutations(incoming));\n    }\n    hydrated = true;\n}\n/**\n *\n * @param doc\n * @param postMessage\n */\nexport function observe(doc, postMessage) {\n    if (!observing) {\n        document = doc;\n        new doc.defaultView.MutationObserver(mutations => handleMutations(mutations, postMessage)).observe(doc.body);\n        observing = true;\n    }\n    else {\n        console.error('observe() was called more than once.');\n    }\n}\n//# sourceMappingURL=DocumentMutations.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { get } from '../worker-thread/NodeMapping';\nimport { Event } from '../worker-thread/Event';\n/**\n * When an event is dispatched from the main thread, it needs to be propagated in the worker thread.\n * Propagate adds an event listener to the worker global scope and uses the WorkerDOM Node.dispatchEvent\n * method to dispatch the transfered event in the worker thread.\n */\nexport function propagate() {\n    if (typeof addEventListener !== 'undefined') {\n        addEventListener('message', ({ data }) => {\n            if (data[9 /* type */] !== 1 /* EVENT */) {\n                return;\n            }\n            const event = data[37 /* event */];\n            const node = get(event[7 /* _index_ */]);\n            if (node !== null) {\n                const target = event[10 /* target */];\n                node.dispatchEvent(Object.assign(new Event(event[9 /* type */], { bubbles: event[22 /* bubbles */], cancelable: event[23 /* cancelable */] }), {\n                    cancelBubble: event[24 /* cancelBubble */],\n                    defaultPrevented: event[26 /* defaultPrevented */],\n                    eventPhase: event[27 /* eventPhase */],\n                    isTrusted: event[28 /* isTrusted */],\n                    returnValue: event[29 /* returnValue */],\n                    target: get(target ? target[7 /* _index_ */] : null),\n                    timeStamp: event[30 /* timeStamp */],\n                    scoped: event[31 /* scoped */],\n                    keyCode: event[32 /* keyCode */],\n                }));\n            }\n        });\n    }\n}\n//# sourceMappingURL=TransferrableEvent.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { get } from '../worker-thread/NodeMapping';\n/**\n * When an event is dispatched from the main thread, it needs to be propagated in the worker thread.\n * Propagate adds an event listener to the worker global scope and uses the WorkerDOM Node.dispatchEvent\n * method to dispatch the transfered event in the worker thread.\n */\nexport function propagate() {\n    if (typeof addEventListener !== 'function') {\n        return;\n    }\n    addEventListener('message', ({ data }) => {\n        if (data[9 /* type */] !== 5 /* SYNC */) {\n            return;\n        }\n        const sync = data[38 /* sync */];\n        const node = get(sync[7 /* _index_ */]);\n        if (node) {\n            node.value = sync[18 /* value */];\n        }\n    });\n}\n//# sourceMappingURL=TransferrableSyncValue.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Element, NODE_NAME_MAPPING } from './Element';\nimport { HTMLElement } from './HTMLElement';\nimport { matchChildElement } from './matchElements';\nimport './HTMLAnchorElement';\nimport './HTMLButtonElement';\nimport './HTMLDataElement';\nimport './HTMLEmbedElement';\nimport './HTMLFieldSetElement';\nimport './HTMLFormElement';\nimport './HTMLIFrameElement';\nimport './HTMLImageElement';\nimport './HTMLInputElement';\nimport './HTMLLabelElement';\nimport './HTMLLinkElement';\nimport './HTMLMapElement';\nimport './HTMLMeterElement';\nimport './HTMLModElement';\nimport './HTMLOListElement';\nimport './HTMLOptionElement';\nimport './HTMLProgressElement';\nimport './HTMLQuoteElement';\nimport './HTMLScriptElement';\nimport './HTMLSelectElement';\nimport './HTMLSourceElement';\nimport './HTMLStyleElement';\nimport './HTMLTableCellElement';\nimport './HTMLTableColElement';\nimport './HTMLTableElement';\nimport './HTMLTableRowElement';\nimport './HTMLTableSectionElement';\nimport './HTMLTimeElement';\nimport { SVGElement } from './SVGElement';\nimport { Node } from './Node';\nimport { Event } from '../Event';\nimport { Text } from './Text';\nimport { MutationObserver } from '../MutationObserver';\nimport { observe as observeMutations } from '../../transfer/DocumentMutations';\nimport { propagate as propagateEvents } from '../../transfer/TransferrableEvent';\nimport { propagate as propagateSyncValues } from '../../transfer/TransferrableSyncValue';\nexport class Document extends Element {\n    constructor() {\n        super(9 /* DOCUMENT_NODE */, '#document', null);\n        this.documentElement = this;\n        this.createElement = (tagName) => this.createElementNS(null, tagName);\n        this.createElementNS = (namespaceURI, tagName) => new (NODE_NAME_MAPPING[tagName] || HTMLElement)(1 /* ELEMENT_NODE */, tagName, namespaceURI);\n        this.createTextNode = (text) => new Text(text);\n        this.defaultView = {\n            document: this,\n            MutationObserver,\n            Document,\n            Node,\n            Text,\n            Element,\n            SVGElement,\n            Event,\n        };\n    }\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementById\n     * @return Element with matching id attribute.\n     */\n    getElementById(id) {\n        return matchChildElement(this.body, element => element.id === id);\n    }\n}\n/**\n *\n * @param postMessageMethod\n */\nexport function createDocument(postMessageMethod) {\n    // Use local references of privileged functions that are used asynchronously\n    // (e.g. `postMessage`) to prevent overwriting by 3P JS.\n    const _postMessage = postMessageMethod;\n    const doc = new Document();\n    doc.isConnected = true;\n    doc.appendChild((doc.body = doc.createElement('body')));\n    if (_postMessage) {\n        observeMutations(doc, _postMessage);\n        propagateEvents();\n        propagateSyncValues();\n    }\n    return doc;\n}\n/** Should only be used for testing. */\nexport const documentForTesting = createDocument();\n//# sourceMappingURL=Document.js.map","/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { createDocument } from './dom/Document';\nimport { appendKeys } from './css/CSSStyleDeclaration';\nconst doc = createDocument(__ALLOW_POST_MESSAGE__ ? self.postMessage : undefined);\nexport const workerDOM = {\n    document: doc,\n    addEventListener: doc.addEventListener.bind(doc),\n    removeEventListener: doc.removeEventListener.bind(doc),\n    localStorage: {},\n    location: {},\n    url: '/',\n    appendKeys,\n};\n//# sourceMappingURL=index.js.map"],"names":["count","transfer","mapping","store","consume","storeNodeMapping","storeString","attrsToString","matchAttrPredicate","consumeNodes","consumeStrings","propagate","observeMutations","propagateEvents","propagateSyncValues"],"mappings":"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"}