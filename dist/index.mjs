let e=0;const g=new Map;function h(a){return g.get(a)||""}let k,m;function n(a){k=new Map([[1,a],[2,a]]);m=a}function p(a){return 3===("nodeType"in a?a.nodeType:a[0])}function q(a){if(p(a)){var b=document.createTextNode(h(a[5]));r(b,a[7]);return b}b=(b=void 0!==a[6]?h(a[6]):void 0)?document.createElementNS(b,h(a[1])):document.createElement(h(a[1]));r(b,a[7]);return b}function t(a){return(a=k.get(a))&&"BODY"===a.nodeName?m:a}function r(a,b){a._index_=b;k.set(b,a)}
function u(a,b){return v(b)?Promise.all([fetch(a).then((a)=>a.text()),fetch(b).then((a)=>a.text())]).then(([a,c])=>{const d=[];for(let a in document.body.style)d.push(`'${a}'`);a=`\n          'use strict';\n          ${a}\n          (function() {\n            var self = this;\n            var window = this;\n            var document = this.document;\n            var localStorage = this.localStorage;\n            var location = this.location;\n            var defaultView = document.defaultView;\n            var Node = defaultView.Node;\n            var Text = defaultView.Text;\n            var Element = defaultView.Element;\n            var SVGElement = defaultView.SVGElement;\n            var Document = defaultView.Document;\n            var Event = defaultView.Event;\n            var MutationObserver = defaultView.MutationObserver;\n\n            function addEventListener(type, handler) {\n              return document.addEventListener(type, handler);\n            }\n            function removeEventListener(type, handler) {\n              return document.removeEventListener(type, handler);\n            }\n            this.appendKeys([${d}]);\n            ${c}\n          }).call(WorkerThread.workerDOM);\n//# sourceURL=${encodeURI(b)}`;
return new Worker(URL.createObjectURL(new Blob([a])))}).catch(()=>null):new Promise(()=>null)}function v(a){if(window.URL&&window.URL.prototype&&"href"in window.URL.prototype)return(new URL(a,location.href)).hostname===location.hostname;const b=document.createElement("a");b.href=a;b.protocol||(b.href=b.href);return b.hostname===location.hostname}
const w=[],x=(a,b)=>{b&&"value"in b&&null===b.onchange&&(b.onchange=()=>{a.postMessage({9:5,38:{7:b._index_,18:b.value}})})},y=(a,b)=>(d)=>{var c=d.currentTarget;c&&"value"in c&&(c=d.currentTarget,a.postMessage({9:5,38:{7:c._index_,18:c.value}}));a.postMessage({9:1,37:{7:b,22:d.bubbles,23:d.cancelable,24:d.cancelBubble,25:{7:d.currentTarget._index_,8:1},26:d.defaultPrevented,27:d.eventPhase,28:d.isTrusted,29:d.returnValue,10:{7:d.target._index_,8:1},
30:d.timeStamp,9:d.type,32:"keyCode"in d?d.keyCode:void 0}})};function A(a,b){const d=t(b[10]);(b[21]||[]).forEach((b)=>{B(a,d,!1,h(b[9]),b[33])});(b[20]||[]).forEach((b)=>{B(a,d,!0,h(b[9]),b[33])})}function B(a,b,d,c,f){let l=null!==b.onchange;const I=b&&"value"in b,z="change"===c;d?(z&&(l=!0,b.onchange=null),b.addEventListener(c,w[f]=y(a,b._index_))):(z&&(l=!1),b.removeEventListener(c,w[f]));I&&!l&&x(a,b)}function C(a){return 0<a.length&&[].every.call(a,p)}
function D(a,b,d){[].forEach.call(b.childNodes,(a)=>a.remove());a.forEach((a,f)=>{const c=q(a);(a[2]||[]).forEach((a)=>{const b=h(a[0]);"null"!==b?c.setAttributeNS(b,h(a[1]),h(a[2])):c.setAttribute(h(a[1]),h(a[2]))});b.appendChild(c);x(d,c);D(a[4]||[],b.childNodes[f],d)})}
function E(a,b,d){var c=p(a),f=p(b);if(c||f)c&&f&&(r(b,a[7]),b.textContent=h(a[5]),x(d,b));else if(c=a[4]||[],c.length!==b.childNodes.length)if(C(c)&&C(b.childNodes))D(c,b,d);else{f=c.filter((a)=>!p(a));const l=[].filter.call(b.childNodes,(a)=>!p(a));f.length===l.length&&(r(b,a[7]),D(c,b,d))}else r(b,a[7]),x(d,b),c.forEach((a,c)=>E(a,b.childNodes[c],d))}
function F(a,b,d,c,f){b.forEach((a)=>{g.set(++e,a)});0===c.childNodes.length?D(a[4]||[],c,f):E(a,c,f);d.forEach((a)=>{const b=t(a[7]);b&&B(f,b,!0,h(a[9]),a[33])})}let G=[],H=!1,J;
const K={2(a,b,d){(a[12]||[]).forEach((a)=>t(a[7]).remove());const c=a[11],f=a[14];c&&c.forEach((a)=>{let c=t(a[7]);c||(c=q(a),d&&d.sanitize(c));b.insertBefore(c,f&&t(f[7])||null)})},0(a,b,d){const c=void 0!==a[15]?h(a[15]):null;a=void 0!==a[18]?h(a[18]):null;null==c||null==a||d&&!d.validAttribute(b.nodeName,c,a)||b.setAttribute(c,a)},1(a,b){if(a=a[18])b.textContent=h(a)},3(a,b,d){const c=void 0!==a[17]?h(a[17]):null;a=void 0!==a[18]?h(a[18]):null;c&&a&&(!d||d.validProperty(b.nodeName,c,a))&&
(b[c]=a)},4(a){A(J,a)}};function L(a,b,d,c){b.forEach((a)=>{g.set(++e,a)});a.forEach((a)=>q(a));G=G.concat(d);H||(H=!0,requestAnimationFrame(()=>M(c)))}function M(a){G.forEach((b)=>{K[b[9]](b,t(b[10]),a)});G=[];H=!1}function N(a,b,d){const c=a.getAttribute("src");null!==c&&u(b,c).then((b)=>{null!==b&&(n(a),J=b,b.onmessage=({data:c})=>{switch(c[9]){case 2:F(c[35],c[39],c[20],a,b);break;case 3:L(c[35],c[39],c[34],d)}})})}var upgradeElement=function(a,b){N(a,b)};export{upgradeElement};
//# sourceMappingURL=index.mjs.map
