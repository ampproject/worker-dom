let e=0;const g=new Map;function h(a){return g.get(a)||""}let k,m;function n(a){k=new Map([[1,a],[2,a]]);m=a}function p(a){return 3===("nodeType"in a?a.nodeType:a[0])}function q(a){if(p(a)){var b=document.createTextNode(h(a[5]));r(b,a[7]);return b}b=(b=void 0!==a[6]?h(a[6]):void 0)?document.createElementNS(b,h(a[1])):document.createElement(h(a[1]));r(b,a[7]);return b}function t(a){return(a=k.get(a))&&"BODY"===a.nodeName?m:a}function r(a,b){a._index_=b;k.set(b,a)}
function u(a,b){return Promise.all([fetch(a).then((a)=>a.text()),fetch(b).then((a)=>a.text())]).then(([a,c])=>{const d=[];for(let a in document.body.style)d.push(`'${a}'`);a=`\n        'use strict';\n        ${a}\n        (function() {\n          var self = this;\n          var window = this;\n          var document = this.document;\n          var localStorage = this.localStorage;\n          var location = this.location;\n          var defaultView = document.defaultView;\n          var Node = defaultView.Node;\n          var Text = defaultView.Text;\n          var Element = defaultView.Element;\n          var SVGElement = defaultView.SVGElement;\n          var Document = defaultView.Document;\n          var Event = defaultView.Event;\n          var MutationObserver = defaultView.MutationObserver;\n\n          function addEventListener(type, handler) {\n            return document.addEventListener(type, handler);\n          }\n          function removeEventListener(type, handler) {\n            return document.removeEventListener(type, handler);\n          }\n          this.appendKeys([${d}]);\n          ${c}\n        }).call(WorkerThread.workerDOM);\n//# sourceURL=${encodeURI(b)}`;
return new Worker(URL.createObjectURL(new Blob([a])))}).catch(()=>null)}
const v=[],w=(a,b)=>{b&&"value"in b&&null===b.onchange&&(b.onchange=()=>{a.postMessage({9:5,38:{7:b._index_,18:b.value}})})},x=(a,b)=>(d)=>{var c=d.currentTarget;c&&"value"in c&&(c=d.currentTarget,a.postMessage({9:5,38:{7:c._index_,18:c.value}}));a.postMessage({9:1,37:{7:b,22:d.bubbles,23:d.cancelable,24:d.cancelBubble,25:{7:d.currentTarget._index_,8:1},26:d.defaultPrevented,27:d.eventPhase,28:d.isTrusted,29:d.returnValue,10:{7:d.target._index_,8:1},
30:d.timeStamp,9:d.type,32:"keyCode"in d?d.keyCode:void 0}})};function y(a,b){const d=t(b[10]);(b[21]||[]).forEach((b)=>{A(a,d,!1,h(b[9]),b[33])});(b[20]||[]).forEach((b)=>{A(a,d,!0,h(b[9]),b[33])})}function A(a,b,d,c,f){let l=null!==b.onchange;const H=b&&"value"in b,z="change"===c;d?(z&&(l=!0,b.onchange=null),b.addEventListener(c,v[f]=x(a,b._index_))):(z&&(l=!1),b.removeEventListener(c,v[f]));H&&!l&&w(a,b)}function B(a){return 0<a.length&&[].every.call(a,p)}
function C(a,b,d){[].forEach.call(b.childNodes,(a)=>a.remove());a.forEach((a,f)=>{const c=q(a);(a[2]||[]).forEach((a)=>{const b=h(a[0]);"null"!==b?c.setAttributeNS(b,h(a[1]),h(a[2])):c.setAttribute(h(a[1]),h(a[2]))});b.appendChild(c);w(d,c);C(a[4]||[],b.childNodes[f],d)})}
function D(a,b,d){var c=p(a),f=p(b);if(c||f)c&&f&&(r(b,a[7]),b.textContent=h(a[5]),w(d,b));else if(c=a[4]||[],c.length!==b.childNodes.length)if(B(c)&&B(b.childNodes))C(c,b,d);else{f=c.filter((a)=>!p(a));const l=[].filter.call(b.childNodes,(a)=>!p(a));f.length===l.length&&(r(b,a[7]),C(c,b,d))}else r(b,a[7]),w(d,b),c.forEach((a,c)=>D(a,b.childNodes[c],d))}function E(a,b,d,c,f){b.forEach((a)=>{g.set(++e,a)});D(a,c,f);d.forEach((a)=>{const b=t(a[7]);b&&A(f,b,!0,h(a[9]),a[33])})}let F=[],G=!1,I;
const J={2(a,b,d){(a[12]||[]).forEach((a)=>t(a[7]).remove());const c=a[11],f=a[14];c&&c.forEach((a)=>{let c=t(a[7]);c||(c=q(a),d&&d.sanitize(c));b.insertBefore(c,f&&t(f[7])||null)})},0(a,b,d){const c=void 0!==a[15]?h(a[15]):null;a=void 0!==a[18]?h(a[18]):null;null==c||null==a||d&&!d.validAttribute(b.nodeName,c,a)||b.setAttribute(c,a)},1(a,b){if(a=a[18])b.textContent=h(a)},3(a,b,d){const c=void 0!==a[17]?h(a[17]):null;a=void 0!==a[18]?h(a[18]):null;c&&a&&(!d||d.validProperty(b.nodeName,c,a))&&
(b[c]=a)},4(a){y(I,a)}};function K(a,b,d,c){b.forEach((a)=>{g.set(++e,a)});a.forEach((a)=>q(a));F=F.concat(d);G||(G=!0,requestAnimationFrame(()=>L(c)))}function L(a){F.forEach((b)=>{J[b[9]](b,t(b[10]),a)});F=[];G=!1}function M(a,b,d){const c=a.getAttribute("src");null!==c&&u(b,c).then((b)=>{null!==b&&(n(a),I=b,b.onmessage=({data:c})=>{switch(c[9]){case 2:E(c[35],c[39],c[20],a,b);break;case 3:K(c[35],c[39],c[34],d)}})})}var upgradeElement=function(a,b){M(a,b)};export{upgradeElement};
//# sourceMappingURL=index.mjs.map
