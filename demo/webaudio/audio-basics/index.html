<!DOCTYPE html>
<html lang='en'>
<head>
  <meta charset='utf-8' />
  <title>Web Audio API examples: Basics</title>
  <meta name='description' content='Audio basics demo for Web Audio API' />
  <meta
    name='viewport'
    content='width=device-width, initial-scale=1, shrink-to-fit=no'
  />
  <link rel='stylesheet' type='text/css' href='style.css' />

  <script src='/dist/main.mjs' type='module'></script>
  <script src='/dist/main.js' nomodule defer></script>
  <!-- This comment block is intended to make it easier to test both the script module and nomodule path -->
  <!-- Comment either block to enable module/nomodule or disable it. -->
  <!-- <script src="./dist/main.js" defer></script> -->
</head>
<body>
<div src='basics.js' id='upgrade-me'>

  <div id='boombox'>
    <div class='boombox-handle'></div>

    <div class='boombox-body'>
      <section class='master-controls'>
        <input
          type='range'
          id='volume'
          class='control-volume'
          min='0'
          max='2'
          value='1'
          list='gain-vals'
          step='0.01'
          data-action='volume'
        />
        <datalist id='gain-vals'>
          <option value='0' label='min'></option>
          <option value='2' label='max'></option>
        </datalist>

        <label for='volume'>VOL</label>

        <input
          type='range'
          id='panner'
          class='control-panner'
          list='pan-vals'
          min='-1'
          max='1'
          value='0'
          step='0.01'
          data-action='panner'
        />
        <datalist id='pan-vals'>
          <option value='-1' label='left'></option>
          <option value='1' label='right'></option>
        </datalist>

        <label for='panner'>PAN</label>

        <button
          class='control-power'
          role='switch'
          aria-checked='false'
          data-power='on'
        >
          <span>On/Off</span>
        </button>
      </section>

      <section class='tape'>
        <audio src='outfoxing.mp3' crossorigin='anonymous'></audio>

        <!-- 			type="audio/mpeg" -->

        <button
          data-playing='false'
          class='tape-controls-play'
          role='switch'
          aria-checked='false'
        >
          <span>Play/Pause</span>
        </button>
      </section>
    </div>
    <!-- boombox-body -->
  </div>

</div>
<script type='module'>
  import { upgradeElement } from '/dist/debug/main.mjs';

  upgradeElement(document.getElementById('upgrade-me'), '/dist/debug/worker/worker.mjs');
</script>
<script nomodule async='false' defer>
  document.addEventListener('DOMContentLoaded', function() {
    MainThread.upgradeElement(document.getElementById('upgrade-me'), '/dist/debug/worker/worker.js');
  }, false);
</script>
</body>
</html>
